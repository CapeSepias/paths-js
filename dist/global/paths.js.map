{"version":3,"sources":["node_modules/browser-pack/_prelude.js","dist/node/all.js","dist/node/bar.js","dist/node/barnes-hut.js","dist/node/beachline.js","dist/node/bezier.js","dist/node/binarytree.js","dist/node/connector.js","dist/node/curved-rectangle.js","dist/node/event.js","dist/node/fortune.js","dist/node/geom.js","dist/node/graph.js","dist/node/line-chart-comp.js","dist/node/linear.js","dist/node/ops.js","dist/node/path.js","dist/node/pie.js","dist/node/polygon.js","dist/node/radar.js","dist/node/rectangle.js","dist/node/sankey.js","dist/node/sector.js","dist/node/segment.js","dist/node/semi-regular-polygon.js","dist/node/smooth-line.js","dist/node/stack.js","dist/node/stock.js","dist/node/tree-utils.js","dist/node/tree.js","dist/node/voronoi.js","dist/node/waterfall.js"],"names":["_interopRequireDefault","obj","__esModule","default","_bar","require","_bar2","_bezier","_bezier2","_connector","_connector2","_curvedRectangle","_curvedRectangle2","_graph","_graph2","_linear","_linear2","_path","_path2","_pie","_pie2","_polygon","_polygon2","_radar","_radar2","_rectangle","_rectangle2","_sankey","_sankey2","_sector","_sector2","_semiRegularPolygon","_semiRegularPolygon2","_smoothLine","_smoothLine2","_stack","_stack2","_stock","_stock2","_tree","_tree2","_voronoi","_voronoi2","_waterfall","_waterfall2","eval","Paths","Bar","Bezier","Connector","CurvedRectangle","Graph","Linear","Path","Pie","Polygon","Radar","Rectangle","Sankey","Sector","SemiRegularPolygon","SmoothLine","Stack","Stock","Tree","Voronoi","Waterfall","Object","defineProperty","exports","value","_slicedToArray","sliceIterator","arr","i","_arr","_n","_d","_e","undefined","_s","_i","Symbol","iterator","next","done","push","length","err","Array","isArray","TypeError","_ops","_ref","data","_ref$accessor","accessor","id","width","height","min","max","_ref$gutter","gutter","_ref$offset","offset","compute","groups","minUnset","maxUnset","_offset","offX","offY","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","entries","_step$value","d","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","_step3$value","j","el","val","n","groupWidth","curves","scale","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","_step2$value","g","w","shift","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","_step4$value","left","right","bottom","_top","line","top","enhance","item","group","index","module","average","body1","body2","mass","times","plus","point","locate","quadrants","_ref2","x","y","q","_q$box","box","makeQuadrant","_ref3","_ref4","_ref42","a","b","halfwayV","halfwayH","subdivide","_ref5","addBody","root","body","oldBody","children","child","_ref6","_ref62","p","m","makeTree","_x","_x2","_again","bodies","makeBodies","positions","mapObject","position","makeRoot","walkLeaves","tree","f","bodyForceOn","b1","b2","repulsion","segment","minus","boxWidth","_ref7","forceOn","leaf","threshold","sumVectors","map","c","repulsiveForces","forces","Beachline","parent","l","r","cEvent","_binarytree2","call","this","_binarytree","_segment","_segment2","_geom","_geom2","prototype","create","isLeaf","getArcNodeOnSite","site","curNode","solN","pl","pr","parabolsCrossX","addArc","newArcSite","arcsNodes","lArcNode","crossedArcNode","rArcNode","crossedArcSite","crossPoint","distPointToParabol","newLHalfedge","newRHalfedge","addLChild","addRChild","rmArc","newEdgeStart","edgesNodes","liveLArcNode","deadArcNode","liveRArcNode","isRChild","liveCutBranch","midEdgeNode","topEdgeNode","_toConsumableArray","arr2","from","reflect","_Path","points","tension","diffs","controlPoints","c0","c1","p0","p1","path","moveto","apply","curveto","range","reduce","pt","smoothcurveto","centroid","BinaryTree","isRoot","isLChild","getLLeafAndLParent","lparent","getRLeafAndRParent","rparent","_Path$moveto$lineto$curveto","_Path$moveto","start","end","_start","_end","mid1","lineto","topleft","topright","bottomleft","bottomright","topCurve","bottomCurve","connect","closepath","Event","arcSiteOrNodes","eventCoord","vertexCoord","coord","goToEventIndex","es","approx","add","splice","rm","console","log","toString","Fortune","sites","events","beach","_beachline2","edges","patches","iterations","forEach","_event2","_beachline","_event","addCircleEvent","arcNode","sweepY","lNodes","lEdgeNode","rNodes","rEdgeNode","doHalflinesCross","circumCenter","Infinity","distPointToPoint","rmCircleEvent","manageSiteEvent","event","manageCircleEvent","deadEdgeA","deadEdgeB","pe","getPoints","getEdges","getPatches","pointSize","pointsColor","edgesColor","isIn","array","insertByAtan","v","vs","Math","atan2","assignEdgeBounds","edge","ps","sq","ax","ay","_ref32","bx","by","sqrt","abs","fa","fb","s1","s2","sa","sb","arguments","dx","dy","hp","vec","det","u","matrixTransform","matrix","transformEllipse","rx","ry","torad","PI","cos","s","sin","ma","J","K","D","JK","isDegenerate","L","l1","l2","newAx","newRx","newRy","atan","_barnesHut","_barnesHut2","randomPosition","h","random","cap","bound","inside","attractiveForces","links","attraction","keys","_links$id","weight","pos1","pos2","force","nodeaccessor","linkaccessor","identity","nodes","constraints","nodesPositions","nodes_","node","links_","link","_linkaccessor","tick","attractions","repulsions","f1","f2","recompute","constrain","unconstrain","graph","closed","epsilon","datum","sort","sorted","xmin","xmax","ymin","minBy","ymax","maxBy","xaccessor","yaccessor","_ref4$sort","_ref52","arranged","base","xscale","yscale","_ref72","linear","inverse","sum","xs","sumBy","k","onCircle","angle","curve","key","method","inclusive","result","pairs","init","_instructions","copy","slice","areEqualPoints","a1","a2","trimZeros","string","char","charAt","substr","round","number","digits","str","toFixed","printInstrunction","command","params","param","join","prev","transformParams","instruction","transformer","V","pts","newPts","H","A","sweepFlag","C","Z","newParams","verbosify","args","hlineto","vlineto","x1","y1","x2","y2","qcurveto","smoothqcurveto","arc","xrot","largeArcFlag","translate","_ret","newInstructions","rotate","_ret2","rad","sx","sy","_ret3","shearX","_ret4","tan","shearY","_ret5","print","instructions","last","first","unshift","concat","center","R","values","t","sector","head","tail","collectKeys","objects","object","indexOf","keyAccessor","o","globalMax","maxs","_ref$rings","rings","_ref$compute","sides","ringPaths","radius","radii","polygon","rectWidth","level","spacingGroups","nameValues","name","currentlyUsedIn","currentlyUsedOut","valsIn","filter","valsOut","heightOfGroups","spaceForEachGroup","heightOfGroup","idx","scaledValue","rectangles","nodeIdx","idg","hGroup","firstTop","previousBottom","idn","att","rectangleCoords","curvedRectangles","rectSource","rectTarget","scaledWeight","curvedRect","_Path$moveto$arc$lineto","_Path$moveto$arc","large","midAngle","midRadius","Segment","_lineChartComp","_lineChartComp2","options","_comp","_line$path$lineto","_line$path","scaledPoints","area","barWidth","scaledPointsClosed","items","treeHeight","buildTree","cs","setHeight","maxHeights","collect","_treeUtils","levels","hscale","vscales","availableHeight","maxHeight","vscale","height_","connectors","connector","childNodes","xrange","yrange","xm","ym","diag","closingPoints","fortune","_fortune2","scaledPatch","_ref22","_fortune","_ref$min","_ref$max","data_","_accessor","absolute","low","high","M"],"mappings":"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","file":"bundle.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","'use strict';\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _bar = require('./bar');\n\nvar _bar2 = _interopRequireDefault(_bar);\n\nvar _bezier = require('./bezier');\n\nvar _bezier2 = _interopRequireDefault(_bezier);\n\nvar _connector = require('./connector');\n\nvar _connector2 = _interopRequireDefault(_connector);\n\nvar _curvedRectangle = require('./curved-rectangle');\n\nvar _curvedRectangle2 = _interopRequireDefault(_curvedRectangle);\n\nvar _graph = require('./graph');\n\nvar _graph2 = _interopRequireDefault(_graph);\n\nvar _linear = require('./linear');\n\nvar _linear2 = _interopRequireDefault(_linear);\n\nvar _path = require('./path');\n\nvar _path2 = _interopRequireDefault(_path);\n\nvar _pie = require('./pie');\n\nvar _pie2 = _interopRequireDefault(_pie);\n\nvar _polygon = require('./polygon');\n\nvar _polygon2 = _interopRequireDefault(_polygon);\n\nvar _radar = require('./radar');\n\nvar _radar2 = _interopRequireDefault(_radar);\n\nvar _rectangle = require('./rectangle');\n\nvar _rectangle2 = _interopRequireDefault(_rectangle);\n\nvar _sankey = require('./sankey');\n\nvar _sankey2 = _interopRequireDefault(_sankey);\n\nvar _sector = require('./sector');\n\nvar _sector2 = _interopRequireDefault(_sector);\n\nvar _semiRegularPolygon = require('./semi-regular-polygon');\n\nvar _semiRegularPolygon2 = _interopRequireDefault(_semiRegularPolygon);\n\nvar _smoothLine = require('./smooth-line');\n\nvar _smoothLine2 = _interopRequireDefault(_smoothLine);\n\nvar _stack = require('./stack');\n\nvar _stack2 = _interopRequireDefault(_stack);\n\nvar _stock = require('./stock');\n\nvar _stock2 = _interopRequireDefault(_stock);\n\nvar _tree = require('./tree');\n\nvar _tree2 = _interopRequireDefault(_tree);\n\nvar _voronoi = require('./voronoi');\n\nvar _voronoi2 = _interopRequireDefault(_voronoi);\n\nvar _waterfall = require('./waterfall');\n\nvar _waterfall2 = _interopRequireDefault(_waterfall);\n\n(function () {\n  \"use strict\";\n\n  var global = (1, eval)('this');\n\n  global.Paths = {\n    Bar: _bar2['default'],\n    Bezier: _bezier2['default'],\n    Connector: _connector2['default'],\n    CurvedRectangle: _curvedRectangle2['default'],\n    Graph: _graph2['default'],\n    Linear: _linear2['default'],\n    Path: _path2['default'],\n    Pie: _pie2['default'],\n    Polygon: _polygon2['default'],\n    Radar: _radar2['default'],\n    Rectangle: _rectangle2['default'],\n    Sankey: _sankey2['default'],\n    Sector: _sector2['default'],\n    SemiRegularPolygon: _semiRegularPolygon2['default'],\n    SmoothLine: _smoothLine2['default'],\n    Stack: _stack2['default'],\n    Stock: _stock2['default'],\n    Tree: _tree2['default'],\n    Voronoi: _voronoi2['default'],\n    Waterfall: _waterfall2['default']\n  };\n})();","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _linear = require('./linear');\n\nvar _linear2 = _interopRequireDefault(_linear);\n\nvar _rectangle = require('./rectangle');\n\nvar _rectangle2 = _interopRequireDefault(_rectangle);\n\nvar _ops = require('./ops');\n\nexports['default'] = function (_ref) {\n  var data = _ref.data;\n  var _ref$accessor = _ref.accessor;\n  var accessor = _ref$accessor === undefined ? _ops.id : _ref$accessor;\n  var width = _ref.width;\n  var height = _ref.height;\n  var min = _ref.min;\n  var max = _ref.max;\n  var _ref$gutter = _ref.gutter;\n  var gutter = _ref$gutter === undefined ? 10 : _ref$gutter;\n  var _ref$offset = _ref.offset;\n  var offset = _ref$offset === undefined ? [0, 0] : _ref$offset;\n  var compute = _ref.compute;\n\n  var groups = [];\n  var minUnset = false;\n  var maxUnset = false;\n  if (min == null) {\n    min = 0;minUnset = true;\n  }\n  if (max == null) {\n    max = 0;maxUnset = true;\n  }\n\n  var _offset = _slicedToArray(offset, 2);\n\n  var offX = _offset[0];\n  var offY = _offset[1];\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n\n    for (var _iterator = data.entries()[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var _step$value = _slicedToArray(_step.value, 2);\n\n      var i = _step$value[0];\n      var d = _step$value[1];\n      var _iteratorNormalCompletion3 = true;\n      var _didIteratorError3 = false;\n      var _iteratorError3 = undefined;\n\n      try {\n        for (var _iterator3 = d.entries()[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n          var _step3$value = _slicedToArray(_step3.value, 2);\n\n          var j = _step3$value[0];\n          var el = _step3$value[1];\n\n          var val = accessor(el);\n          if (minUnset && val < min) {\n            min = val;\n          }\n          if (maxUnset && val > max) {\n            max = val;\n          }\n          if (groups[j] == null) {\n            groups[j] = [];\n          }\n          groups[j][i] = val;\n        }\n      } catch (err) {\n        _didIteratorError3 = true;\n        _iteratorError3 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion3 && _iterator3['return']) {\n            _iterator3['return']();\n          }\n        } finally {\n          if (_didIteratorError3) {\n            throw _iteratorError3;\n          }\n        }\n      }\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator['return']) {\n        _iterator['return']();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  var n = groups.length;\n  var groupWidth = (width - gutter * (n - 1)) / n;\n  var curves = [];\n  var scale = (0, _linear2['default'])([min, max], [height + offY, offY]);\n\n  var _iteratorNormalCompletion2 = true;\n  var _didIteratorError2 = false;\n  var _iteratorError2 = undefined;\n\n  try {\n    for (var _iterator2 = groups.entries()[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n      var _step2$value = _slicedToArray(_step2.value, 2);\n\n      var i = _step2$value[0];\n      var g = _step2$value[1];\n\n      var w = groupWidth / g.length;\n      var shift = (groupWidth + gutter) * i + offX;\n      var _iteratorNormalCompletion4 = true;\n      var _didIteratorError4 = false;\n      var _iteratorError4 = undefined;\n\n      try {\n        for (var _iterator4 = g.entries()[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n          var _step4$value = _slicedToArray(_step4.value, 2);\n\n          var j = _step4$value[0];\n          var el = _step4$value[1];\n\n          var left = shift + w * j;\n          var right = left + w;\n          var bottom = scale(0);\n          var _top = scale(el);\n          var line = (0, _rectangle2['default'])({ left: left, right: right, bottom: bottom, top: _top });\n          curves.push((0, _ops.enhance)(compute, {\n            item: data[j][i],\n            line: line,\n            group: i,\n            index: j\n          }));\n        }\n      } catch (err) {\n        _didIteratorError4 = true;\n        _iteratorError4 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion4 && _iterator4['return']) {\n            _iterator4['return']();\n          }\n        } finally {\n          if (_didIteratorError4) {\n            throw _iteratorError4;\n          }\n        }\n      }\n    }\n  } catch (err) {\n    _didIteratorError2 = true;\n    _iteratorError2 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion2 && _iterator2['return']) {\n        _iterator2['return']();\n      }\n    } finally {\n      if (_didIteratorError2) {\n        throw _iteratorError2;\n      }\n    }\n  }\n\n  return { curves: curves, scale: scale };\n};\n\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\n\nvar _ops = require('./ops');\n\nvar average = function average(body1, body2) {\n  var mass = body1.mass + body2.mass;\n  var point = (0, _ops.times)(1 / mass, (0, _ops.plus)((0, _ops.times)(body1.mass, body1.point), (0, _ops.times)(body2.mass, body2.point)));\n  return [point, mass];\n};\n\nvar locate = function locate(_ref, quadrants) {\n  var _ref2 = _slicedToArray(_ref, 2);\n\n  var x = _ref2[0];\n  var y = _ref2[1];\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = quadrants[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var q = _step.value;\n      var _q$box = q.box;\n      var _top = _q$box.top;\n      var bottom = _q$box.bottom;\n      var left = _q$box.left;\n      var right = _q$box.right;\n\n      if (left <= x && x <= right && bottom <= y && y <= _top) {\n        return q;\n      }\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator['return']) {\n        _iterator['return']();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n};\n\nvar makeQuadrant = function makeQuadrant(_ref3, _ref4) {\n  var top = _ref3.top;\n  var bottom = _ref3.bottom;\n  var left = _ref3.left;\n  var right = _ref3.right;\n\n  var _ref42 = _slicedToArray(_ref4, 2);\n\n  var a = _ref42[0];\n  var b = _ref42[1];\n\n  var halfwayV = (left + right) / 2;\n  var halfwayH = (top + bottom) / 2;\n\n  return {\n    box: {\n      top: b ? halfwayH : top,\n      bottom: b ? bottom : halfwayH,\n      left: a ? halfwayV : left,\n      right: a ? right : halfwayV\n    }\n  };\n};\n\nvar subdivide = function subdivide(_ref5) {\n  var box = _ref5.box;\n  return [makeQuadrant(box, [0, 0]), makeQuadrant(box, [1, 0]), makeQuadrant(box, [0, 1]), makeQuadrant(box, [1, 1])];\n};\n\nvar addBody = function addBody(root, body) {\n  if (root.body) {\n    var oldBody = root.body;\n    delete root.body;\n    root.children = subdivide(root);\n    addBody(root, oldBody);\n    addBody(root, body);\n  } else {\n    if (root.children) {\n      var child = locate(body.point, root.children);\n\n      var _ref6 = root.point ? average(root, body) : [body.point, body.mass];\n\n      var _ref62 = _slicedToArray(_ref6, 2);\n\n      var p = _ref62[0];\n      var m = _ref62[1];\n\n      root.point = p;\n      root.mass = m;\n      addBody(child, body);\n    } else {\n      root.body = body;\n    }\n  }\n};\n\nvar makeTree = function makeTree(_x, _x2) {\n  var _again = true;\n\n  _function: while (_again) {\n    var bodies = _x,\n        root = _x2;\n    _again = false;\n\n    if (bodies.length === 0) {\n      return root;\n    } else {\n      var body = bodies.shift();\n      addBody(root, body);\n      _x = bodies;\n      _x2 = root;\n      _again = true;\n      body = undefined;\n      continue _function;\n    }\n  }\n};\n\nvar makeBodies = function makeBodies(positions) {\n  return (0, _ops.mapObject)(positions, function (id, position) {\n    return { id: id, point: position, mass: 1 };\n  });\n};\n\nvar makeRoot = function makeRoot(width, height) {\n  return {\n    box: {\n      top: height,\n      bottom: 0,\n      left: 0,\n      right: width\n    }\n  };\n};\n\nvar walkLeaves = function walkLeaves(tree, f) {\n  if (tree.body) {\n    f(tree);\n  } else {\n    if (tree.children) {\n      var _iteratorNormalCompletion2 = true;\n      var _didIteratorError2 = false;\n      var _iteratorError2 = undefined;\n\n      try {\n        for (var _iterator2 = tree.children[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n          var child = _step2.value;\n\n          walkLeaves(child, f);\n        }\n      } catch (err) {\n        _didIteratorError2 = true;\n        _iteratorError2 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion2 && _iterator2['return']) {\n            _iterator2['return']();\n          }\n        } finally {\n          if (_didIteratorError2) {\n            throw _iteratorError2;\n          }\n        }\n      }\n    }\n  }\n};\n\nvar bodyForceOn = function bodyForceOn(b1, b2, repulsion) {\n  var segment = (0, _ops.minus)(b1.point, b2.point);\n  var d = (0, _ops.length)(segment);\n  return (0, _ops.times)(repulsion * b1.mass * b2.mass / (d * d * d), segment);\n};\n\nvar boxWidth = function boxWidth(_ref7) {\n  var top = _ref7.top;\n  var bottom = _ref7.bottom;\n  var left = _ref7.left;\n  var right = _ref7.right;\n  return (0, _ops.length)([top - bottom, right - left]);\n};\n\nvar forceOn = function forceOn(leaf, tree, repulsion, threshold) {\n  if (tree === leaf) {\n    return [0, 0];\n  } else if (tree.body) {\n    return bodyForceOn(leaf.body, tree.body, repulsion);\n  } else if (tree.point) {\n    var s = boxWidth(tree.box);\n    var d = (0, _ops.length)((0, _ops.minus)(leaf.body.point, tree.point));\n\n    if (s / d < threshold) {\n      return bodyForceOn(leaf.body, tree, repulsion);\n    } else return (0, _ops.sumVectors)(tree.children.map(function (c) {\n      return forceOn(leaf, c, repulsion, threshold);\n    }));\n  } else return [0, 0];\n};\n\nvar repulsiveForces = function repulsiveForces(tree, repulsion, threshold) {\n  var forces = {};\n  walkLeaves(tree, function (leaf) {\n    forces[leaf.body.id] = forceOn(leaf, tree, repulsion, threshold);\n  });\n  return forces;\n};\n\nexports.tree = makeTree;\nexports.bodies = makeBodies;\nexports.root = makeRoot;\nexports.forces = repulsiveForces;\nexports['default'] = {\n  tree: makeTree,\n  bodies: makeBodies,\n  root: makeRoot,\n  forces: repulsiveForces\n};","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _binarytree = require('./binarytree');\n\nvar _binarytree2 = _interopRequireDefault(_binarytree);\n\nvar _segment = require('./segment');\n\nvar _segment2 = _interopRequireDefault(_segment);\n\nvar _geom = require('./geom');\n\nvar _geom2 = _interopRequireDefault(_geom);\n\nfunction Beachline(item, parent, l, r, cEvent) {\n  _binarytree2['default'].call(this, item, parent, l, r);\n  this.cEvent = cEvent;\n}\n\nBeachline.prototype = Object.create(_binarytree2['default'].prototype);\n\nBeachline.prototype.isLeaf = function () {\n  return this.l === undefined;\n};\n\nBeachline.prototype.getArcNodeOnSite = function (site) {\n  var curNode = this;\n  var solN = undefined;\n\n  while (!curNode.isLeaf()) {\n    curNode.item.pl[1] < curNode.item.pr[1] ? solN = 0 : solN = 1;\n    curNode = site[0] < _geom2['default'].parabolsCrossX(curNode.item.pl, curNode.item.pr, site[1])[solN] ? curNode.l : curNode.r;\n  }\n  return curNode;\n};\n\nBeachline.prototype.addArc = function (newArcSite, arcsNodes) {\n  var lArcNode = arcsNodes[0];\n  var crossedArcNode = arcsNodes[1];\n  var rArcNode = arcsNodes[2];\n  var crossedArcSite = crossedArcNode.item;\n  var crossPoint = [newArcSite[0], newArcSite[1] - _geom2['default'].distPointToParabol(newArcSite, crossedArcSite)];\n  var newLHalfedge = new _segment2['default'](crossedArcSite, newArcSite, crossPoint);\n  var newRHalfedge = new _segment2['default'](newArcSite, crossedArcSite, crossPoint);\n\n  crossedArcNode.item = newLHalfedge;\n  crossedArcNode.addLChild(new Beachline(crossedArcSite));\n  crossedArcNode.addRChild(new Beachline(newRHalfedge));\n  crossedArcNode.r.addLChild(new Beachline(newArcSite));\n  crossedArcNode.r.addRChild(new Beachline(crossedArcSite));\n\n  if (lArcNode != undefined && lArcNode.cEvent != undefined) {\n    lArcNode.cEvent.arcsNodes[2] = crossedArcNode.l;\n  }\n  if (rArcNode != undefined && rArcNode.cEvent != undefined) {\n    rArcNode.cEvent.arcsNodes[0] = crossedArcNode.r.r;\n  }\n};\n\nBeachline.prototype.rmArc = function (newEdgeStart, arcsNodes, edgesNodes) {\n  var liveLArcNode = arcsNodes[0];\n  var deadArcNode = arcsNodes[1];\n  var liveRArcNode = arcsNodes[2];\n\n  if (deadArcNode.isRChild()) {\n    var liveCutBranch = edgesNodes[0].l;\n    var midEdgeNode = edgesNodes[0];\n    var topEdgeNode = edgesNodes[1];\n  } else {\n    var liveCutBranch = edgesNodes[1].r;\n    var midEdgeNode = edgesNodes[1];\n    var topEdgeNode = edgesNodes[0];\n  }\n\n  topEdgeNode.item = new _segment2['default'](liveLArcNode.item, liveRArcNode.item, newEdgeStart);\n\n  if (midEdgeNode.isRChild()) {\n    midEdgeNode.parent.r = liveCutBranch;\n  } else {\n    midEdgeNode.parent.l = liveCutBranch;\n  }\n  liveCutBranch.parent = midEdgeNode.parent;\n};\n\nexports['default'] = Beachline;\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i]; return arr2; } else { return Array.from(arr); } }\n\nvar _path = require('./path');\n\nvar _path2 = _interopRequireDefault(_path);\n\nvar _polygon = require('./polygon');\n\nvar _polygon2 = _interopRequireDefault(_polygon);\n\nvar _ops = require('./ops');\n\nvar reflect = function reflect(p, q) {\n  return (0, _ops.minus)((0, _ops.times)(2, p), q);\n};\n\nexports['default'] = function (_ref) {\n  var _Path;\n\n  var points = _ref.points;\n  var tension = _ref.tension;\n\n  tension = tension || 0.3;\n  var diffs = [];\n  var l = points.length;\n  if (l <= 2) {\n    return (0, _polygon2['default'])({ points: points });\n  }\n  for (var i = 1; i <= l - 1; i++) {\n    diffs.push((0, _ops.times)(tension, (0, _ops.minus)(points[i], points[i - 1])));\n  }\n  var controlPoints = [(0, _ops.plus)(points[0], reflect(diffs[0], diffs[1]))];\n  for (var i = 1; i <= l - 2; i++) {\n    controlPoints.push((0, _ops.minus)(points[i], (0, _ops.average)([diffs[i], diffs[i - 1]])));\n  }\n  controlPoints.push((0, _ops.minus)(points[l - 1], reflect(diffs[l - 2], diffs[l - 3])));\n  var c0 = controlPoints[0];\n  var c1 = controlPoints[1];\n  var p0 = points[0];\n  var p1 = points[1];\n  var path = (_Path = (0, _path2['default'])()).moveto.apply(_Path, _toConsumableArray(p0)).curveto(c0[0], c0[1], c1[0], c1[1], p1[0], p1[1]);\n\n  return {\n    path: (0, _ops.range)(2, l).reduce(function (pt, i) {\n      var c = controlPoints[i];\n      var p = points[i];\n      return pt.smoothcurveto(c[0], c[1], p[0], p[1]);\n    }, path),\n    centroid: (0, _ops.average)(points)\n  };\n};\n\nmodule.exports = exports['default'];","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nfunction BinaryTree(item, parent, l, r) {\n  this.item = item;\n  this.parent = parent;\n  this.l = l;\n  this.r = r;\n}\n\nBinaryTree.prototype.isRoot = function () {\n  return this.parent === undefined;\n};\n\nBinaryTree.prototype.isLeaf = function () {\n  return this.l === undefined && this.r === undefined;\n};\n\nBinaryTree.prototype.isLChild = function () {\n  return !this.isRoot() && this.parent.l === this;\n};\n\nBinaryTree.prototype.isRChild = function () {\n  return !this.isRoot() && this.parent.r === this;\n};\n\nBinaryTree.prototype.addLChild = function (child) {\n  this.l = child;\n  child.parent = this;\n};\n\nBinaryTree.prototype.addRChild = function (child) {\n  this.r = child;\n  child.parent = this;\n};\n\nBinaryTree.prototype.getLLeafAndLParent = function (leaf) {\n  var curNode = leaf || this;\n\n  while (curNode.isLChild()) {\n    curNode = curNode.parent;\n  }\n  if (curNode.isRoot()) {\n    return [undefined, undefined];\n  }\n  var lparent = curNode.parent;\n  curNode = curNode.parent.l;\n\n  while (!curNode.isLeaf()) {\n    curNode = curNode.r;\n  }\n\n  return [curNode, lparent];\n};\n\nBinaryTree.prototype.getRLeafAndRParent = function (leaf) {\n  var curNode = leaf || this;\n\n  while (curNode.isRChild()) {\n    curNode = curNode.parent;\n  }\n  if (curNode.isRoot()) {\n    return [undefined, undefined];\n  }\n  var rparent = curNode.parent;\n  curNode = curNode.parent.r;\n\n  while (!curNode.isLeaf()) {\n    curNode = curNode.l;\n  }\n\n  return [curNode, rparent];\n};\n\nexports[\"default\"] = BinaryTree;\nmodule.exports = exports[\"default\"];","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i]; return arr2; } else { return Array.from(arr); } }\n\nvar _path = require('./path');\n\nvar _path2 = _interopRequireDefault(_path);\n\nvar _ops = require('./ops');\n\nexports['default'] = function (_ref) {\n  var _Path$moveto$lineto$curveto, _Path$moveto, _Path;\n\n  var start = _ref.start;\n  var end = _ref.end;\n  var tension = _ref.tension;\n\n  if (tension == null) {\n    tension = 0.05;\n  }\n\n  var _start = _slicedToArray(start, 2);\n\n  var a = _start[0];\n  var b = _start[1];\n\n  var _end = _slicedToArray(end, 2);\n\n  var c = _end[0];\n  var d = _end[1];\n\n  var length = (c - a) * tension;\n  var mid1 = [a + length, b];\n  var mid2 = [c - length, d];\n\n  return {\n    path: (_Path$moveto$lineto$curveto = (_Path$moveto = (_Path = (0, _path2['default'])()).moveto.apply(_Path, _toConsumableArray(start))).lineto.apply(_Path$moveto, mid1).curveto(a + 5 * length, b, c - 5 * length, d, c - length, d)).lineto.apply(_Path$moveto$lineto$curveto, _toConsumableArray(end)),\n    centroid: (0, _ops.average)([start, end])\n  };\n};\n\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _path = require('./path');\n\nvar _path2 = _interopRequireDefault(_path);\n\nvar _connector = require('./connector');\n\nvar _connector2 = _interopRequireDefault(_connector);\n\nvar _ops = require('./ops');\n\nexports['default'] = function (_ref) {\n  var topleft = _ref.topleft;\n  var topright = _ref.topright;\n  var bottomleft = _ref.bottomleft;\n  var bottomright = _ref.bottomright;\n\n  var topCurve = (0, _connector2['default'])({ start: topleft, end: topright }).path;\n  var bottomCurve = (0, _connector2['default'])({ start: bottomright, end: bottomleft }).path;\n  var path = topCurve.connect(bottomCurve).closepath();\n  var centroid = (0, _ops.average)([topleft, topright, bottomleft, bottomright]);\n\n  return {\n    path: path,\n    centroid: centroid\n  };\n};\n\nmodule.exports = exports['default'];","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar _geom = require(\"./geom\");\n\nvar _geom2 = _interopRequireDefault(_geom);\n\nfunction Event(arcSiteOrNodes, eventCoord, vertexCoord) {\n  if (arcSiteOrNodes.length == 2) {\n    this.coord = arcSiteOrNodes;\n  } else {\n    this.arcsNodes = [arcSiteOrNodes[0], arcSiteOrNodes[2], arcSiteOrNodes[4]];\n    this.edgesNodes = [arcSiteOrNodes[1], arcSiteOrNodes[3]];\n    this.vertexCoord = vertexCoord;\n    this.coord = eventCoord;\n  }\n\n  Event.prototype.goToEventIndex = function (es, approx) {\n    approx = approx || 1e-10;\n    var i = 0;\n    while (i < es.length && this.coord[1] > es[i].coord[1] + approx) i++;\n    return i;\n  };\n\n  Event.prototype.add = function (es) {\n    es.splice(this.goToEventIndex(es), 0, this);\n  };\n\n  Event.prototype.rm = function (es) {\n    var i = this.goToEventIndex(es);\n    while (i < es.length) {\n      if (i == es.length - 1 || this.coord[1] != es[i + 1].coord[1] || this.arcsNodes == es[i].arcsNodes && this.coord[0] === es[i].coord[0] && this.coord[1] === es[i].coord[1]) return es.splice(i, 1);\n      i++;\n    };\n    console.log(\"Event does not exist in list\");\n  };\n\n  //------------------------------------------------------------------------\n  Event.prototype.toString = function () {\n    return this.edgesNodes ? \"Circle event. Vertex: \" + this.vertexCoord + \"; coord:\" + this.coord : \"Site event. Coord:\" + this.coord;\n  };\n}\n\nexports[\"default\"] = Event;\nmodule.exports = exports[\"default\"];","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n\tvalue: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _beachline = require('./beachline');\n\nvar _beachline2 = _interopRequireDefault(_beachline);\n\nvar _geom = require('./geom');\n\nvar _geom2 = _interopRequireDefault(_geom);\n\nvar _event = require('./event');\n\nvar _event2 = _interopRequireDefault(_event);\n\nfunction Fortune(sites) {\n\tthis.sites = sites;\n\tthis.events = [];\n\tthis.beach = new _beachline2['default']();\n\tthis.edges = [];\n\tthis.patches = Object.create(null);\n\tthis.iterations = 0;\n\tsites.forEach(function (site) {\n\t\tthis.patches[site] = [];\n\t\tnew _event2['default'](site).add(this.events);\n\t}, this);\n}\n\nFortune.prototype.addCircleEvent = function (arcNode, sweepY, approx) {\n\tif (arcNode === undefined) arcNode = 1e-10;\n\n\tvar lNodes = arcNode.getLLeafAndLParent();\n\tvar lArcNode = lNodes[0];\n\tvar lEdgeNode = lNodes[1];\n\tvar rNodes = arcNode.getRLeafAndRParent();\n\tvar rArcNode = rNodes[0];\n\tvar rEdgeNode = rNodes[1];\n\n\tif (lArcNode === undefined || rArcNode === undefined || lArcNode.item[0] === rArcNode.item[0] && lArcNode.item[1] === rArcNode.item[1] || !_geom2['default'].doHalflinesCross(lEdgeNode.item, rEdgeNode.item)) {\n\t\treturn;\n\t}\n\n\tvar vertexCoord = _geom2['default'].circumCenter(lArcNode.item, arcNode.item, rArcNode.item);\n\n\tif (vertexCoord[1] == Infinity) {\n\t\treturn;\n\t}\n\n\tvar eventCoord = [vertexCoord[0], vertexCoord[1] + _geom2['default'].distPointToPoint(arcNode.item, vertexCoord)];\n\n\tif (eventCoord[1] < sweepY - approx) {\n\t\treturn;\n\t}\n\n\tarcNode.cEvent = new _event2['default']([lArcNode, lEdgeNode, arcNode, rEdgeNode, rArcNode], eventCoord, vertexCoord);\n\tarcNode.cEvent.add(this.events);\n};\n\nFortune.prototype.rmCircleEvent = function (arcNode) {\n\tif (arcNode.cEvent !== undefined) {\n\t\tarcNode.cEvent.rm(this.events);\n\t\tarcNode.cEvent = undefined;\n\t}\n};\n\nFortune.prototype.manageSiteEvent = function () {\n\tvar event = this.events.splice(0, 1)[0];\n\tvar crossedArcNode = this.beach.getArcNodeOnSite(event.coord);\n\tvar lArcNode = crossedArcNode.getLLeafAndLParent()[0];\n\tvar rArcNode = crossedArcNode.getRLeafAndRParent()[0];\n\n\tthis.rmCircleEvent(crossedArcNode);\n\tthis.beach.addArc(event.coord, [lArcNode, crossedArcNode, rArcNode]);\n\tthis.addCircleEvent(crossedArcNode.l, event.coord[1]);\n\tthis.addCircleEvent(crossedArcNode.r.r, event.coord[1]);\n};\n\nFortune.prototype.manageCircleEvent = function () {\n\tvar event = this.events.splice(0, 1)[0];\n\tvar deadEdgeA = event.edgesNodes[0].item;\n\tvar deadEdgeB = event.edgesNodes[1].item;\n\n\tdeadEdgeA.pe = event.vertexCoord;\n\tdeadEdgeB.pe = event.vertexCoord;\n\n\tthis.edges.push(deadEdgeA);\n\tthis.edges.push(deadEdgeB);\n\tthis.beach.rmArc(event.vertexCoord, event.arcsNodes, event.edgesNodes);\n\tthis.rmCircleEvent(event.arcsNodes[0]);\n\tthis.rmCircleEvent(event.arcsNodes[2]);\n\tthis.addCircleEvent(event.arcsNodes[0], event.coord[1]);\n\tthis.addCircleEvent(event.arcsNodes[2], event.coord[1]);\n};\n\nFortune.prototype.getPoints = function () {\n\treturn this.sites;\n};\n\nFortune.prototype.getEdges = function () {\n\tthis.beach.item = this.events.splice(0, 1)[0].coord;\n\tthis.iterations += 1;\n\n\twhile (this.events.length > 0) {\n\t\tif (this.events[0].arcsNodes) {\n\t\t\tthis.manageCircleEvent();\n\t\t} else {\n\t\t\tthis.manageSiteEvent();\n\t\t}\n\t\tthis.iterations += 1;\n\t}\n\treturn this.edges;\n};\n\nFortune.prototype.getPatches = function (width, height, pointSize, pointsColor, edgesColor) {\n\tfunction isIn(point, array) {\n\t\tfor (var i = 0; i < array.length; i++) {\n\t\t\tif (array[i][0] === point[0] && array[i][1] === point[1]) return true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tfunction insertByAtan(c, v, vs) {\n\t\tfor (var i = 0; i < vs.length; i++) {\n\t\t\tif (Math.atan2(v[1] - c[1], v[0] - c[0]) < Math.atan2(vs[i][1] - c[1], vs[i][0] - c[0])) {\n\t\t\t\tvs.splice(i, 0, v);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tvs.push(v);\n\t}\n\n\tfunction assignEdgeBounds(edge) {\n\t\tif (!isIn(edge.ps, this.patches[edge.pl])) insertByAtan(edge.pl, edge.ps, this.patches[edge.pl]);\n\t\tif (!isIn(edge.ps, this.patches[edge.pr])) insertByAtan(edge.pr, edge.ps, this.patches[edge.pr]);\n\t\tif (!isIn(edge.pe, this.patches[edge.pl])) insertByAtan(edge.pl, edge.pe, this.patches[edge.pl]);\n\t\tif (!isIn(edge.pe, this.patches[edge.pr])) insertByAtan(edge.pr, edge.pe, this.patches[edge.pr]);\n\t}\n\n\tthis.getEdges().forEach(assignEdgeBounds, this);\n\treturn this.patches;\n};\n\nexports['default'] = Fortune;\nmodule.exports = exports['default'];","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; })();\n\nvar sq = function sq(x) {\n  return x * x;\n};\n\nvar distPointToPoint = function distPointToPoint(_ref, _ref3) {\n  var _ref2 = _slicedToArray(_ref, 2);\n\n  var ax = _ref2[0];\n  var ay = _ref2[1];\n\n  var _ref32 = _slicedToArray(_ref3, 2);\n\n  var bx = _ref32[0];\n  var by = _ref32[1];\n  return Math.sqrt(sq(ax - bx) + sq(ay - by));\n};\n\nvar distPointToParabol = function distPointToParabol(a, f) {\n  var p = distPointToPoint(a, f);\n\n  return p == 0 ? Infinity : sq(p) / (2 * Math.abs(a[1] - f[1]));\n};\n\nvar circumCenter = function circumCenter(a, b, c) {\n  var d = (a[0] - c[0]) * (b[1] - c[1]) - (b[0] - c[0]) * (a[1] - c[1]);\n\n  if (d == 0) return [Infinity, Infinity];\n\n  var xc = (((a[0] - c[0]) * (a[0] + c[0]) + (a[1] - c[1]) * (a[1] + c[1])) / 2 * (b[1] - c[1]) - ((b[0] - c[0]) * (b[0] + c[0]) + (b[1] - c[1]) * (b[1] + c[1])) / 2 * (a[1] - c[1])) / d;\n  var yc = (((b[0] - c[0]) * (b[0] + c[0]) + (b[1] - c[1]) * (b[1] + c[1])) / 2 * (a[0] - c[0]) - ((a[0] - c[0]) * (a[0] + c[0]) + (a[1] - c[1]) * (a[1] + c[1])) / 2 * (b[0] - c[0])) / d;\n  return [xc, yc];\n};\n\nvar parabolsCrossX = function parabolsCrossX(fa, fb, q) {\n  if (fa[1] === fb[1]) return [(fa[0] + fb[0]) / 2, (fa[0] + fb[0]) / 2];\n\n  var s1 = (fa[1] * fb[0] - fa[0] * fb[1] + fa[0] * q - fb[0] * q + Math.sqrt((fa[0] * fa[0] + fa[1] * fa[1] - 2 * fa[0] * fb[0] + fb[0] * fb[0] - 2 * fa[1] * fb[1] + fb[1] * fb[1]) * (fa[1] * fb[1] - fa[1] * q - fb[1] * q + q * q))) / (fa[1] - fb[1]);\n  var s2 = (fa[1] * fb[0] - fa[0] * fb[1] + fa[0] * q - fb[0] * q - Math.sqrt((fa[0] * fa[0] + fa[1] * fa[1] - 2 * fa[0] * fb[0] + fb[0] * fb[0] - 2 * fa[1] * fb[1] + fb[1] * fb[1]) * (fa[1] * fb[1] - fa[1] * q - fb[1] * q + q * q))) / (fa[1] - fb[1]);\n\n  return s1 < s2 ? [s1, s2] : [s2, s1];\n};\n\nvar doHalflinesCross = function doHalflinesCross(sa, sb) {\n  var approx = arguments.length <= 2 || arguments[2] === undefined ? 1e-10 : arguments[2];\n  //sa, sb are Segment instance\n  var dx = sb.ps[0] - sa.ps[0];\n  var dy = sb.ps[1] - sa.ps[1];\n\n  if (sa.m == Infinity) return sa.hp * (sb.m * dx - dy) <= approx && sb.vec[0] * dx <= approx;\n  if (sb.m == Infinity) return sb.hp * (sa.m * dx - dy) >= -approx && sa.vec[0] * dx >= -approx;\n\n  var det = sb.vec[0] * sa.vec[1] - sb.vec[1] * sa.vec[0];\n\n  if (det === 0) return false;\n\n  var u = (dy * sb.vec[0] - dx * sb.vec[1]) / det;\n  var v = (dy * sa.vec[0] - dx * sa.vec[1]) / det;\n\n  return u >= -approx && v >= approx || u >= approx && v >= -approx;\n};\n\nvar matrixTransform = function matrixTransform(points, matrix) {\n  return points.map(function (point) {\n    return {\n      x: point.x * matrix[0] + point.y * matrix[2] + matrix[4],\n      y: point.x * matrix[1] + point.y * matrix[3] + matrix[5]\n    };\n  });\n};\n\nvar transformEllipse = function transformEllipse(rx, ry, ax, m) {\n  var torad = Math.PI / 180;\n  var epsilon = 0.0000000001;\n\n  var c = Math.cos(ax * torad),\n      s = Math.sin(ax * torad);\n  var ma = [rx * (m[0] * c + m[2] * s), rx * (m[1] * c + m[3] * s), ry * (-m[0] * s + m[2] * c), ry * (-m[1] * s + m[3] * c)];\n\n  var J = ma[0] * ma[0] + ma[2] * ma[2],\n      K = ma[1] * ma[1] + ma[3] * ma[3];\n\n  var D = ((ma[0] - ma[3]) * (ma[0] - ma[3]) + (ma[2] + ma[1]) * (ma[2] + ma[1])) * ((ma[0] + ma[3]) * (ma[0] + ma[3]) + (ma[2] - ma[1]) * (ma[2] - ma[1]));\n\n  var JK = (J + K) / 2;\n\n  if (D < epsilon * JK) {\n    return {\n      rx: Math.sqrt(JK),\n      ry: Math.sqrt(JK),\n      ax: 0,\n      isDegenerate: false\n    };\n  }\n\n  var L = ma[0] * ma[1] + ma[2] * ma[3];\n  D = Math.sqrt(D);\n\n  var l1 = JK + D / 2,\n      l2 = JK - D / 2;\n\n  var newAx = undefined,\n      newRx = undefined,\n      newRy = undefined;\n  newAx = Math.abs(L) < epsilon && Math.abs(l1 - K) < epsilon ? 90 : Math.atan(Math.abs(L) > Math.abs(l1 - K) ? (l1 - J) / L : L / (l1 - K)) * 180 / Math.PI;\n\n  if (newAx >= 0) {\n    newRx = Math.sqrt(l1);\n    newRy = Math.sqrt(l2);\n  } else {\n    newAx += 90;\n    newRx = Math.sqrt(l2);\n    newRy = Math.sqrt(l1);\n  }\n\n  return {\n    rx: newRx,\n    ry: newRy,\n    ax: newAx,\n    isDegenerate: newRx < epsilon * newRy || newRy < epsilon * newRx\n  };\n};\n\nexports[\"default\"] = { distPointToPoint: distPointToPoint, distPointToParabol: distPointToParabol, circumCenter: circumCenter,\n  parabolsCrossX: parabolsCrossX, doHalflinesCross: doHalflinesCross, matrixTransform: matrixTransform, transformEllipse: transformEllipse };\nmodule.exports = exports[\"default\"];","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _polygon = require('./polygon');\n\nvar _polygon2 = _interopRequireDefault(_polygon);\n\nvar _ops = require('./ops');\n\nvar _barnesHut = require('./barnes-hut');\n\nvar _barnesHut2 = _interopRequireDefault(_barnesHut);\n\nvar randomPosition = function randomPosition(w, h) {\n  return [Math.random() * w, Math.random() * h];\n};\n\nvar cap = function cap(bound, x) {\n  return Math.min(Math.max(x, 0), bound);\n};\n\nvar inside = function inside(w, h) {\n  return function (_ref) {\n    var _ref2 = _slicedToArray(_ref, 2);\n\n    var x = _ref2[0];\n    var y = _ref2[1];\n    return [cap(w, x), cap(h, y)];\n  };\n};\n\nvar attractiveForces = function attractiveForces(links, positions, attraction) {\n  var forces = {};\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = Object.keys(links)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var id = _step.value;\n      var _links$id = links[id];\n      var start = _links$id.start;\n      var end = _links$id.end;\n      var weight = _links$id.weight;\n\n      var pos1 = positions[start];\n      var pos2 = positions[end];\n      var force = (0, _ops.times)(attraction * weight, (0, _ops.minus)(pos1, pos2));\n      if (!forces[start]) {\n        forces[start] = [0, 0];\n      }\n      if (!forces[end]) {\n        forces[end] = [0, 0];\n      }\n      forces[start] = (0, _ops.minus)(forces[start], force);\n      forces[end] = (0, _ops.plus)(forces[end], force);\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator['return']) {\n        _iterator['return']();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  return forces;\n};\n\nexports['default'] = function (_ref3) {\n  var data = _ref3.data;\n  var nodeaccessor = _ref3.nodeaccessor;\n  var linkaccessor = _ref3.linkaccessor;\n  var width = _ref3.width;\n  var height = _ref3.height;\n  var attraction = _ref3.attraction;\n  var repulsion = _ref3.repulsion;\n  var threshold = _ref3.threshold;\n\n  var identity = function identity(x) {\n    return x;\n  };\n  if (!nodeaccessor) {\n    nodeaccessor = identity;\n  }\n  if (!linkaccessor) {\n    linkaccessor = identity;\n  }\n  attraction = attraction || 1;\n  repulsion = repulsion || 1;\n  threshold = threshold || 0.5;\n  var bound = inside(width, height);\n\n  var nodes = data.nodes;\n  var links = data.links;\n  var constraints = data.constraints;\n\n  if (!constraints) {\n    constraints = {};\n  }\n  var nodesPositions = {};\n  var nodes_ = {};\n  var _iteratorNormalCompletion2 = true;\n  var _didIteratorError2 = false;\n  var _iteratorError2 = undefined;\n\n  try {\n    for (var _iterator2 = nodes[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n      var node = _step2.value;\n\n      var id = nodeaccessor(node);\n      nodesPositions[id] = constraints[id] || randomPosition(width, height);\n      nodes_[id] = node;\n    }\n  } catch (err) {\n    _didIteratorError2 = true;\n    _iteratorError2 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion2 && _iterator2['return']) {\n        _iterator2['return']();\n      }\n    } finally {\n      if (_didIteratorError2) {\n        throw _iteratorError2;\n      }\n    }\n  }\n\n  var links_ = {};\n\n  var _iteratorNormalCompletion3 = true;\n  var _didIteratorError3 = false;\n  var _iteratorError3 = undefined;\n\n  try {\n    for (var _iterator3 = links[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n      var link = _step3.value;\n\n      var _linkaccessor = linkaccessor(link);\n\n      var start = _linkaccessor.start;\n      var end = _linkaccessor.end;\n      var weight = _linkaccessor.weight;\n\n      links_[start + '|' + end] = { weight: weight, start: start, end: end, link: link };\n    }\n  } catch (err) {\n    _didIteratorError3 = true;\n    _iteratorError3 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion3 && _iterator3['return']) {\n        _iterator3['return']();\n      }\n    } finally {\n      if (_didIteratorError3) {\n        throw _iteratorError3;\n      }\n    }\n  }\n\n  var tick = function tick() {\n    var bodies = _barnesHut2['default'].bodies(nodesPositions);\n    var root = _barnesHut2['default'].root(width, height);\n    var tree = _barnesHut2['default'].tree(bodies, root);\n    var attractions = attractiveForces(links_, nodesPositions, attraction / 1000);\n    var repulsions = _barnesHut2['default'].forces(tree, repulsion * 1000, threshold);\n    var _iteratorNormalCompletion4 = true;\n    var _didIteratorError4 = false;\n    var _iteratorError4 = undefined;\n\n    try {\n      for (var _iterator4 = Object.keys(nodesPositions)[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n        var id = _step4.value;\n\n        var position = nodesPositions[id];\n        if (constraints[id]) {\n          nodesPositions[id] = constraints[id];\n        } else {\n          var f1 = attractions[id] || [0, 0];\n          var f2 = repulsions[id] || [0, 0];\n          var f = (0, _ops.plus)(f1, f2);\n          nodesPositions[id] = bound((0, _ops.plus)(position, f));\n        }\n      }\n    } catch (err) {\n      _didIteratorError4 = true;\n      _iteratorError4 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion4 && _iterator4['return']) {\n          _iterator4['return']();\n        }\n      } finally {\n        if (_didIteratorError4) {\n          throw _iteratorError4;\n        }\n      }\n    }\n\n    return recompute();\n  };\n\n  var constrain = function constrain(id, position) {\n    constraints[id] = position;\n  };\n\n  var unconstrain = function unconstrain(id) {\n    delete constraints[id];\n  };\n\n  var graph = { tick: tick, constrain: constrain, unconstrain: unconstrain };\n\n  var recompute = function recompute() {\n    var i = -1;\n    graph.curves = (0, _ops.mapObject)(links_, function (id, _ref4) {\n      var start = _ref4.start;\n      var end = _ref4.end;\n      var link = _ref4.link;\n\n      i += 1;\n      var p = nodesPositions[start];\n      var q = nodesPositions[end];\n\n      return {\n        link: (0, _polygon2['default'])({ points: [p, q], closed: false }),\n        item: link,\n        index: i\n      };\n    });\n\n    graph.nodes = (0, _ops.mapObject)(nodes_, function (id, node) {\n      return {\n        point: nodesPositions[id],\n        item: node\n      };\n    });\n\n    return graph;\n  };\n\n  return recompute();\n};\n\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _linear = require('./linear');\n\nvar _linear2 = _interopRequireDefault(_linear);\n\nvar _ops = require('./ops');\n\nvar epsilon = 1e-5;\n\nvar box = function box(datum, accessor, sort) {\n  var points = datum.map(accessor);\n  var sorted = sort ? points.sort(function (_ref, _ref3) {\n    var _ref2 = _slicedToArray(_ref, 2);\n\n    var a = _ref2[0];\n    var b = _ref2[1];\n\n    var _ref32 = _slicedToArray(_ref3, 2);\n\n    var c = _ref32[0];\n    var d = _ref32[1];\n    return a - c;\n  }) : points;\n  var l = sorted.length;\n  var xmin = sorted[0][0];\n  var xmax = sorted[l - 1][0];\n  var ymin = (0, _ops.minBy)(sorted, function (p) {\n    return p[1];\n  });\n  var ymax = (0, _ops.maxBy)(sorted, function (p) {\n    return p[1];\n  });\n  if (xmin == xmax) {\n    xmax += epsilon;\n  }\n  if (ymin == ymax) {\n    ymax += epsilon;\n  }\n\n  return {\n    points: sorted,\n    xmin: xmin,\n    xmax: xmax,\n    ymin: ymin,\n    ymax: ymax\n  };\n};\n\nexports['default'] = function (_ref4) {\n  var data = _ref4.data;\n  var xaccessor = _ref4.xaccessor;\n  var yaccessor = _ref4.yaccessor;\n  var width = _ref4.width;\n  var height = _ref4.height;\n  var closed = _ref4.closed;\n  var min = _ref4.min;\n  var max = _ref4.max;\n  var _ref4$sort = _ref4.sort;\n  var sort = _ref4$sort === undefined ? true : _ref4$sort;\n\n  if (!xaccessor) {\n    xaccessor = function (_ref5) {\n      var _ref52 = _slicedToArray(_ref5, 2);\n\n      var x = _ref52[0];\n      var y = _ref52[1];\n      return x;\n    };\n  }\n  if (!yaccessor) {\n    yaccessor = function (_ref6) {\n      var _ref62 = _slicedToArray(_ref6, 2);\n\n      var x = _ref62[0];\n      var y = _ref62[1];\n      return y;\n    };\n  }\n  var f = function f(i) {\n    return [xaccessor(i), yaccessor(i)];\n  };\n  var arranged = data.map(function (datum) {\n    return box(datum, f, sort);\n  });\n\n  var xmin = (0, _ops.minBy)(arranged, function (d) {\n    return d.xmin;\n  });\n  var xmax = (0, _ops.maxBy)(arranged, function (d) {\n    return d.xmax;\n  });\n  var ymin = min == null ? (0, _ops.minBy)(arranged, function (d) {\n    return d.ymin;\n  }) : min;\n  var ymax = max == null ? (0, _ops.maxBy)(arranged, function (d) {\n    return d.ymax;\n  }) : max;\n  if (closed) {\n    ymin = Math.min(ymin, 0);\n    ymax = Math.max(ymax, 0);\n  }\n  var base = closed ? 0 : ymin;\n  var xscale = (0, _linear2['default'])([xmin, xmax], [0, width]);\n  var yscale = (0, _linear2['default'])([ymin, ymax], [height, 0]);\n  var scale = function scale(_ref7) {\n    var _ref72 = _slicedToArray(_ref7, 2);\n\n    var x = _ref72[0];\n    var y = _ref72[1];\n    return [xscale(x), yscale(y)];\n  };\n\n  return {\n    arranged: arranged,\n    scale: scale,\n    xscale: xscale,\n    yscale: yscale,\n    base: base\n  };\n};\n\nmodule.exports = exports['default'];","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; })();\n\nvar linear = function linear(_ref, _ref3) {\n  var _ref2 = _slicedToArray(_ref, 2);\n\n  var a = _ref2[0];\n  var b = _ref2[1];\n\n  var _ref32 = _slicedToArray(_ref3, 2);\n\n  var c = _ref32[0];\n  var d = _ref32[1];\n\n  var f = function f(x) {\n    return c + (d - c) * (x - a) / (b - a);\n  };\n\n  f.inverse = function () {\n    return linear([c, d], [a, b]);\n  };\n  return f;\n};\n\nexports[\"default\"] = linear;\nmodule.exports = exports[\"default\"];","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; })();\n\nvar sum = function sum(xs) {\n  return xs.reduce(function (a, b) {\n    return a + b;\n  }, 0);\n};\n\nvar min = function min(xs) {\n  return xs.reduce(function (a, b) {\n    return Math.min(a, b);\n  });\n};\n\nvar max = function max(xs) {\n  return xs.reduce(function (a, b) {\n    return Math.max(a, b);\n  });\n};\n\nvar sumBy = function sumBy(xs, f) {\n  return xs.reduce(function (a, b) {\n    return a + f(b);\n  }, 0);\n};\n\nvar minBy = function minBy(xs, f) {\n  return xs.reduce(function (a, b) {\n    return Math.min(a, f(b));\n  }, Infinity);\n};\n\nvar maxBy = function maxBy(xs, f) {\n  return xs.reduce(function (a, b) {\n    return Math.max(a, f(b));\n  }, -Infinity);\n};\n\nvar plus = function plus(_ref, _ref3) {\n  var _ref2 = _slicedToArray(_ref, 2);\n\n  var a = _ref2[0];\n  var b = _ref2[1];\n\n  var _ref32 = _slicedToArray(_ref3, 2);\n\n  var c = _ref32[0];\n  var d = _ref32[1];\n  return [a + c, b + d];\n};\n\nvar minus = function minus(_ref4, _ref5) {\n  var _ref42 = _slicedToArray(_ref4, 2);\n\n  var a = _ref42[0];\n  var b = _ref42[1];\n\n  var _ref52 = _slicedToArray(_ref5, 2);\n\n  var c = _ref52[0];\n  var d = _ref52[1];\n  return [a - c, b - d];\n};\n\nvar times = function times(k, _ref6) {\n  var _ref62 = _slicedToArray(_ref6, 2);\n\n  var a = _ref62[0];\n  var b = _ref62[1];\n  return [k * a, k * b];\n};\n\nvar length = function length(_ref7) {\n  var _ref72 = _slicedToArray(_ref7, 2);\n\n  var a = _ref72[0];\n  var b = _ref72[1];\n  return Math.sqrt(a * a + b * b);\n};\n\nvar sumVectors = function sumVectors(xs) {\n  return xs.reduce(plus, [0, 0]);\n};\n\nvar average = function average(points) {\n  return times(1 / points.length, points.reduce(plus));\n};\n\nvar onCircle = function onCircle(r, angle) {\n  return times(r, [Math.sin(angle), -Math.cos(angle)]);\n};\n\nvar enhance = function enhance(compute, curve) {\n  var obj = compute || {};\n  for (var key in obj) {\n    var method = obj[key];\n    curve[key] = method(curve.index, curve.item, curve.group);\n  }\n  return curve;\n};\n\nvar range = function range(a, b, inclusive) {\n  var result = [];\n  for (var i = a; i < b; i++) {\n    result.push(i);\n  }\n  if (inclusive) {\n    result.push(b);\n  }\n  return result;\n};\n\nvar mapObject = function mapObject(obj, f) {\n  var result = [];\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = Object.keys(obj)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var k = _step.value;\n\n      var v = obj[k];\n      result.push(f(k, v));\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator[\"return\"]) {\n        _iterator[\"return\"]();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  return result;\n};\n\nvar pairs = function pairs(obj) {\n  return mapObject(obj, function (k, v) {\n    return [k, v];\n  });\n};\n\nvar id = function id(x) {\n  return x;\n};\n\nexports.sum = sum;\nexports.min = min;\nexports.max = max;\nexports.sumBy = sumBy;\nexports.minBy = minBy;\nexports.maxBy = maxBy;\nexports.plus = plus;\nexports.minus = minus;\nexports.times = times;\nexports.id = id;\nexports.length = length;\nexports.sumVectors = sumVectors;\nexports.average = average;\nexports.onCircle = onCircle;\nexports.enhance = enhance;\nexports.range = range;\nexports.mapObject = mapObject;\nexports.pairs = pairs;\nexports[\"default\"] = { sum: sum, min: min, max: max, sumBy: sumBy, minBy: minBy, maxBy: maxBy, plus: plus, minus: minus, times: times, id: id,\n  length: length, sumVectors: sumVectors, average: average, onCircle: onCircle, enhance: enhance, range: range, mapObject: mapObject, pairs: pairs };","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\n\nvar _geom = require('./geom');\n\nvar Path = function Path(init) {\n  var _instructions = init || [];\n\n  var push = function push(arr, el) {\n    var copy = arr.slice(0, arr.length);\n    copy.push(el);\n    return copy;\n  };\n\n  var areEqualPoints = function areEqualPoints(_ref, _ref3) {\n    var _ref2 = _slicedToArray(_ref, 2);\n\n    var a1 = _ref2[0];\n    var b1 = _ref2[1];\n\n    var _ref32 = _slicedToArray(_ref3, 2);\n\n    var a2 = _ref32[0];\n    var b2 = _ref32[1];\n    return a1 === a2 && b1 === b2;\n  };\n\n  var trimZeros = function trimZeros(string, char) {\n    var l = string.length;\n    while (string.charAt(l - 1) === '0') {\n      l = l - 1;\n    }\n    if (string.charAt(l - 1) === '.') {\n      l = l - 1;\n    }\n    return string.substr(0, l);\n  };\n\n  var round = function round(number, digits) {\n    var str = number.toFixed(digits);\n    return trimZeros(str);\n  };\n\n  var printInstrunction = function printInstrunction(_ref4) {\n    var command = _ref4.command;\n    var params = _ref4.params;\n\n    var numbers = params.map(function (param) {\n      return round(param, 6);\n    });\n    return command + ' ' + numbers.join(' ');\n  };\n\n  var point = function point(_ref5, prev) {\n    var command = _ref5.command;\n    var params = _ref5.params;\n\n    switch (command) {\n      case 'M':\n        return [params[0], params[1]];\n      case 'L':\n        return [params[0], params[1]];\n      case 'H':\n        return [params[0], prev[1]];\n      case 'V':\n        return [prev[0], params[0]];\n      case 'Z':\n        return null;\n      case 'C':\n        return [params[4], params[5]];\n      case 'S':\n        return [params[2], params[3]];\n      case 'Q':\n        return [params[2], params[3]];\n      case 'T':\n        return [params[0], params[1]];\n      case 'A':\n        return [params[5], params[6]];\n    }\n  };\n\n  var transformParams = function transformParams(instruction, matrix, prev) {\n    var p = instruction.params;\n\n    var transformer = {\n      'V': function V(instruction, matrix, prev) {\n        var pts = [{ x: prev[0], y: p[0] }];\n        var newPts = (0, _geom.matrixTransform)(pts, matrix);\n        if (newPts[0].x === (0, _geom.matrixTransform)([{ x: prev[0], y: prev[1] }], matrix)[0].x) {\n          return {\n            command: 'V',\n            params: [newPts[0].y]\n          };\n        } else {\n          return {\n            command: 'L',\n            params: [newPts[0].x, newPts[0].y]\n          };\n        }\n      },\n      'H': function H(instruction, matrix, prev) {\n        var pts = [{ x: p[0], y: prev[1] }];\n        var newPts = (0, _geom.matrixTransform)(pts, matrix);\n        if (newPts[0].y === (0, _geom.matrixTransform)([{ x: prev[0], y: prev[1] }], matrix)[0].y) {\n          return {\n            command: 'H',\n            params: [newPts[0].x]\n          };\n        } else {\n          return {\n            command: 'L',\n            params: [newPts[0].x, newPts[0].y]\n          };\n        }\n      },\n      'A': function A(instruction, matrix, prev) {\n        // transform rx, ry, and x-axis rotation\n        var r = (0, _geom.transformEllipse)(p[0], p[1], p[2], matrix);\n\n        var sweepFlag = p[4];\n        if (matrix[0] * matrix[3] - matrix[1] * matrix[2] < 0) {\n          sweepFlag = sweepFlag ? '0' : '1';\n        }\n\n        // transform endpoint\n        var pts = [{ x: p[5], y: p[6] }];\n        var newPts = (0, _geom.matrixTransform)(pts, matrix);\n\n        if (r.isDegenerate) {\n          return {\n            command: 'L',\n            params: [newPts[0].x, newPts[0].y]\n          };\n        } else {\n          return {\n            command: 'A',\n            params: [r.rx, r.ry, r.ax, p[3], sweepFlag, newPts[0].x, newPts[0].y]\n          };\n        }\n      },\n      'C': function C(instruction, matrix, prev) {\n        var pts = [{ x: p[0], y: p[1] }, { x: p[2], y: p[3] }, { x: p[4], y: p[5] }];\n        var newPts = (0, _geom.matrixTransform)(pts, matrix);\n        return {\n          command: 'C',\n          params: [newPts[0].x, newPts[0].y, newPts[1].x, newPts[1].y, newPts[2].x, newPts[2].y]\n        };\n      },\n      'Z': function Z(instruction, matrix, prev) {\n        return {\n          command: 'Z',\n          params: []\n        };\n      },\n      'default': function _default(instruction, matrix, prev) {\n        var pts = [{ x: p[0], y: p[1] }];\n        var newPts = (0, _geom.matrixTransform)(pts, matrix);\n        var newParams = instruction.params.slice(0, instruction.params.length);\n        newParams.splice(0, 2, newPts[0].x, newPts[0].y);\n        return {\n          command: instruction.command,\n          params: newParams\n        };\n      }\n    };\n\n    if (transformer[instruction.command]) {\n      return transformer[instruction.command](instruction, matrix, prev);\n    } else {\n      return transformer['default'](instruction, matrix, prev);\n    }\n  };\n\n  var verbosify = function verbosify(keys, f) {\n    return function (a) {\n      var args = typeof a === 'object' ? keys.map(function (k) {\n        return a[k];\n      }) : arguments;\n      return f.apply(null, args);\n    };\n  };\n\n  var plus = function plus(instruction) {\n    return Path(push(_instructions, instruction));\n  };\n\n  return {\n    moveto: verbosify(['x', 'y'], function (x, y) {\n      return plus({\n        command: 'M',\n        params: [x, y]\n      });\n    }),\n    lineto: verbosify(['x', 'y'], function (x, y) {\n      return plus({\n        command: 'L',\n        params: [x, y]\n      });\n    }),\n    hlineto: verbosify(['x'], function (x) {\n      return plus({\n        command: 'H',\n        params: [x]\n      });\n    }),\n    vlineto: verbosify(['y'], function (y) {\n      return plus({\n        command: 'V',\n        params: [y]\n      });\n    }),\n    closepath: function closepath() {\n      return plus({\n        command: 'Z',\n        params: []\n      });\n    },\n    curveto: verbosify(['x1', 'y1', 'x2', 'y2', 'x', 'y'], function (x1, y1, x2, y2, x, y) {\n      return plus({\n        command: 'C',\n        params: [x1, y1, x2, y2, x, y]\n      });\n    }),\n    smoothcurveto: verbosify(['x2', 'y2', 'x', 'y'], function (x2, y2, x, y) {\n      return plus({\n        command: 'S',\n        params: [x2, y2, x, y]\n      });\n    }),\n    qcurveto: verbosify(['x1', 'y1', 'x', 'y'], function (x1, y1, x, y) {\n      return plus({\n        command: 'Q',\n        params: [x1, y1, x, y]\n      });\n    }),\n    smoothqcurveto: verbosify(['x', 'y'], function (x, y) {\n      return plus({\n        command: 'T',\n        params: [x, y]\n      });\n    }),\n    arc: verbosify(['rx', 'ry', 'xrot', 'largeArcFlag', 'sweepFlag', 'x', 'y'], function (rx, ry, xrot, largeArcFlag, sweepFlag, x, y) {\n      return plus({\n        command: 'A',\n        params: [rx, ry, xrot, largeArcFlag, sweepFlag, x, y]\n      });\n    }),\n    translate: verbosify(['dx', 'dy'], function () {\n      var dx = arguments.length <= 0 || arguments[0] === undefined ? 0 : arguments[0];\n      var dy = arguments.length <= 1 || arguments[1] === undefined ? 0 : arguments[1];\n\n      if (dx !== 0 || dy !== 0) {\n        var _ret = (function () {\n          var prev = [0, 0];\n          var matrix = [1, 0, 0, 1, dx, dy];\n          var newInstructions = _instructions.map(function (instruction) {\n            var p = transformParams(instruction, matrix, prev);\n            prev = point(instruction, prev);\n            return p;\n          });\n          return {\n            v: Path(newInstructions)\n          };\n        })();\n\n        if (typeof _ret === 'object') return _ret.v;\n      } else {\n        return Path(_instructions);\n      }\n    }),\n    rotate: verbosify(['angle', 'rx', 'ry'], function (angle) {\n      var rx = arguments.length <= 1 || arguments[1] === undefined ? 0 : arguments[1];\n      var ry = arguments.length <= 2 || arguments[2] === undefined ? 0 : arguments[2];\n\n      if (angle !== 0) {\n        var _ret2 = (function () {\n          var prev = undefined;\n          var matrix = undefined;\n          var newInstructions = _instructions;\n\n          if (rx !== 0 && ry !== 0) {\n            prev = [0, 0];\n            matrix = [1, 0, 0, 1, -rx, -ry];\n            newInstructions = newInstructions.map(function (instruction) {\n              var p = transformParams(instruction, matrix, prev);\n              prev = point(instruction, prev);\n              return p;\n            });\n          }\n\n          var rad = angle * Math.PI / 180;\n          var cos = Math.cos(rad);\n          var sin = Math.sin(rad);\n\n          prev = [0, 0];\n          matrix = [cos, sin, -sin, cos, 0, 0];\n          newInstructions = newInstructions.map(function (instruction) {\n            var p = transformParams(instruction, matrix, prev);\n            prev = point(instruction, prev);\n            return p;\n          });\n\n          if (rx !== 0 && ry !== 0) {\n            prev = [0, 0];\n            matrix = [1, 0, 0, 1, rx, ry];\n            newInstructions = newInstructions.map(function (instruction) {\n              var p = transformParams(instruction, matrix, prev);\n              prev = point(instruction, prev);\n              return p;\n            });\n          }\n\n          return {\n            v: Path(newInstructions)\n          };\n        })();\n\n        if (typeof _ret2 === 'object') return _ret2.v;\n      } else {\n        return Path(_instructions);\n      }\n    }),\n    scale: verbosify(['sx', 'sy'], function () {\n      var sx = arguments.length <= 0 || arguments[0] === undefined ? 1 : arguments[0];\n      var sy = arguments.length <= 1 || arguments[1] === undefined ? sx : arguments[1];\n      return (function () {\n        if (sx !== 1 || sy !== 1) {\n          var _ret3 = (function () {\n            var prev = [0, 0];\n            var matrix = [sx, 0, 0, sy, 0, 0];\n            var newInstructions = _instructions.map(function (instruction) {\n              var p = transformParams(instruction, matrix, prev);\n              prev = point(instruction, prev);\n              return p;\n            });\n            return {\n              v: Path(newInstructions)\n            };\n          })();\n\n          if (typeof _ret3 === 'object') return _ret3.v;\n        } else {\n          return Path(_instructions);\n        }\n      })();\n    }),\n    shearX: verbosify(['angle'], function () {\n      var angle = arguments.length <= 0 || arguments[0] === undefined ? 0 : arguments[0];\n\n      if (angle !== 0) {\n        var _ret4 = (function () {\n          var prev = [0, 0];\n          var matrix = [1, 0, Math.tan(angle * Math.PI / 180), 1, 0, 0];\n          var newInstructions = _instructions.map(function (instruction) {\n            var p = transformParams(instruction, matrix, prev);\n            prev = point(instruction, prev);\n            return p;\n          });\n          return {\n            v: Path(newInstructions)\n          };\n        })();\n\n        if (typeof _ret4 === 'object') return _ret4.v;\n      } else {\n        return Path(_instructions);\n      }\n    }),\n    shearY: verbosify(['angle'], function () {\n      var angle = arguments.length <= 0 || arguments[0] === undefined ? 0 : arguments[0];\n\n      if (angle !== 0) {\n        var _ret5 = (function () {\n          var prev = [0, 0];\n          var matrix = [1, Math.tan(angle * Math.PI / 180), 0, 1, 0, 0];\n          var newInstructions = _instructions.map(function (instruction) {\n            var p = transformParams(instruction, matrix, prev);\n            prev = point(instruction, prev);\n            return p;\n          });\n          return {\n            v: Path(newInstructions)\n          };\n        })();\n\n        if (typeof _ret5 === 'object') return _ret5.v;\n      } else {\n        return Path(_instructions);\n      }\n    }),\n    print: function print() {\n      return _instructions.map(printInstrunction).join(' ');\n    },\n    toString: function toString() {\n      return undefined.print();\n    },\n    points: function points() {\n      var ps = [];\n      var prev = [0, 0];\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = _instructions[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var instruction = _step.value;\n\n          var p = point(instruction, prev);\n          prev = p;\n          if (p) {\n            ps.push(p);\n          }\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator['return']) {\n            _iterator['return']();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      return ps;\n    },\n    instructions: function instructions() {\n      return _instructions.slice(0, _instructions.length);\n    },\n    connect: function connect(path) {\n      var ps = this.points();\n      var last = ps[ps.length - 1];\n      var first = path.points()[0];\n      var newInstructions = undefined;\n      if (_instructions[_instructions.length - 1].command !== 'Z') {\n        newInstructions = path.instructions().slice(1);\n        if (!areEqualPoints(last, first)) {\n          newInstructions.unshift({\n            command: \"L\",\n            params: first\n          });\n        }\n      } else {\n        newInstructions = path.instructions();\n      }\n      return Path(this.instructions().concat(newInstructions));\n    }\n  };\n};\n\nexports['default'] = function () {\n  return Path();\n};\n\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _linear = require('./linear');\n\nvar _linear2 = _interopRequireDefault(_linear);\n\nvar _sector = require('./sector');\n\nvar _sector2 = _interopRequireDefault(_sector);\n\nvar _ops = require('./ops');\n\nexports['default'] = function (_ref) {\n  var data = _ref.data;\n  var accessor = _ref.accessor;\n  var center = _ref.center;\n  var r = _ref.r;\n  var R = _ref.R;\n  var compute = _ref.compute;\n\n  var values = data.map(accessor);\n  var s = (0, _ops.sum)(values);\n  s = s === 0 ? 1 : s;\n  var scale = (0, _linear2['default'])([0, s], [0, 2 * Math.PI]);\n  var curves = [];\n  var t = 0;\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = data.entries()[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var _step$value = _slicedToArray(_step.value, 2);\n\n      var i = _step$value[0];\n      var item = _step$value[1];\n\n      var value = values[i];\n      curves.push((0, _ops.enhance)(compute, {\n        item: item,\n        index: i,\n        sector: (0, _sector2['default'])({\n          center: center,\n          r: r,\n          R: R,\n          start: scale(t),\n          end: scale(t + value)\n        })\n      }));\n      t += value;\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator['return']) {\n        _iterator['return']();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  return { curves: curves };\n};\n\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i]; return arr2; } else { return Array.from(arr); } }\n\nvar _path = require('./path');\n\nvar _path2 = _interopRequireDefault(_path);\n\nvar _ops = require('./ops');\n\nexports['default'] = function (_ref) {\n  var _Path;\n\n  var points = _ref.points;\n  var closed = _ref.closed;\n\n  var l = points.length;\n  var head = points[0];\n  var tail = points.slice(1, l + 1);\n  var path = tail.reduce(function (pt, p) {\n    return pt.lineto.apply(pt, _toConsumableArray(p));\n  }, (_Path = (0, _path2['default'])()).moveto.apply(_Path, _toConsumableArray(head)));\n\n  return {\n    path: closed ? path.closepath() : path,\n    centroid: (0, _ops.average)(points)\n  };\n};\n\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _semiRegularPolygon = require('./semi-regular-polygon');\n\nvar _semiRegularPolygon2 = _interopRequireDefault(_semiRegularPolygon);\n\nvar _ops = require('./ops');\n\nvar collectKeys = function collectKeys(objects) {\n  var keys = [];\n  var keysets = objects.map(Object.keys);\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = objects[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var object = _step.value;\n      var _iteratorNormalCompletion2 = true;\n      var _didIteratorError2 = false;\n      var _iteratorError2 = undefined;\n\n      try {\n        for (var _iterator2 = Object.keys(object)[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n          var key = _step2.value;\n\n          if (keys.indexOf(key) == -1) {\n            keys.push(key);\n          }\n        }\n      } catch (err) {\n        _didIteratorError2 = true;\n        _iteratorError2 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion2 && _iterator2['return']) {\n            _iterator2['return']();\n          }\n        } finally {\n          if (_didIteratorError2) {\n            throw _iteratorError2;\n          }\n        }\n      }\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator['return']) {\n        _iterator['return']();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  return keys;\n};\n\nvar keyAccessor = function keyAccessor(keys) {\n  var a = {};\n  var _iteratorNormalCompletion3 = true;\n  var _didIteratorError3 = false;\n  var _iteratorError3 = undefined;\n\n  try {\n    for (var _iterator3 = keys[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n      var key = _step3.value;\n\n      (function (k) {\n        a[k] = function (o) {\n          return o[k];\n        };\n      })(key);\n    }\n  } catch (err) {\n    _didIteratorError3 = true;\n    _iteratorError3 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion3 && _iterator3['return']) {\n        _iterator3['return']();\n      }\n    } finally {\n      if (_didIteratorError3) {\n        throw _iteratorError3;\n      }\n    }\n  }\n\n  return a;\n};\n\nvar globalMax = function globalMax(data, accessor) {\n  var keys = Object.keys(accessor);\n  var maxs = data.map(function (d) {\n    return (0, _ops.maxBy)(keys, function (k) {\n      return accessor[k](d);\n    });\n  });\n  return (0, _ops.max)(maxs);\n};\n\nexports['default'] = function (_ref) {\n  var data = _ref.data;\n  var accessor = _ref.accessor;\n  var center = _ref.center;\n  var r = _ref.r;\n  var max = _ref.max;\n  var _ref$rings = _ref.rings;\n  var rings = _ref$rings === undefined ? 3 : _ref$rings;\n  var _ref$compute = _ref.compute;\n  var compute = _ref$compute === undefined ? {} : _ref$compute;\n\n  if (!accessor) {\n    accessor = keyAccessor(collectKeys(data));\n  }\n  var keys = Object.keys(accessor);\n  var sides = keys.length;\n  var angle = 2 * Math.PI / sides;\n  var i = -1;\n  if (max == null) {\n    max = globalMax(data, accessor);\n  }\n\n  var ringPaths = (0, _ops.range)(1, rings, true).map(function (n) {\n    var radius = r * n / rings;\n    return (0, _semiRegularPolygon2['default'])({\n      center: center,\n      radii: (0, _ops.range)(0, sides).map(function (s) {\n        return radius;\n      })\n    });\n  });\n\n  var polygons = data.map(function (d) {\n    i += 1;\n\n    return (0, _ops.enhance)(compute, {\n      polygon: (0, _semiRegularPolygon2['default'])({\n        center: center,\n        radii: keys.map(function (k) {\n          return r * accessor[k](d) / max;\n        })\n      }),\n      item: d,\n      index: i\n    });\n  });\n\n  return {\n    curves: polygons,\n    rings: ringPaths\n  };\n};\n\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _polygon = require('./polygon');\n\nvar _polygon2 = _interopRequireDefault(_polygon);\n\nexports['default'] = function (_ref) {\n  var left = _ref.left;\n  var right = _ref.right;\n  var top = _ref.top;\n  var bottom = _ref.bottom;\n\n  return (0, _polygon2['default'])({\n    points: [[right, top], [right, bottom], [left, bottom], [left, top]],\n    closed: true\n  });\n};\n\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _rectangle = require('./rectangle');\n\nvar _rectangle2 = _interopRequireDefault(_rectangle);\n\nvar _curvedRectangle = require('./curved-rectangle');\n\nvar _curvedRectangle2 = _interopRequireDefault(_curvedRectangle);\n\nvar _ops = require('./ops');\n\nexports['default'] = function (_ref) {\n  var data = _ref.data;\n  var nodeaccessor = _ref.nodeaccessor;\n  var linkaccessor = _ref.linkaccessor;\n  var width = _ref.width;\n  var height = _ref.height;\n  var gutter = _ref.gutter;\n  var rectWidth = _ref.rectWidth;\n  var compute = _ref.compute;\n\n  var id = function id(x) {\n    return x;\n  };\n  if (!nodeaccessor) {\n    nodeaccessor = id;\n  }\n  if (!linkaccessor) {\n    linkaccessor = id;\n  }\n  gutter = gutter || 10;\n  rectWidth = rectWidth || 10;\n\n  var links_ = data.links.map(linkaccessor);\n  var nodes_ = data.nodes.map(function (level) {\n    return level.map(nodeaccessor);\n  });\n\n  // Compute the spacing between groups of rectangles;\n  // takes care of rects width\n  var spacingGroups = (width - rectWidth) / (data.nodes.length - 1);\n  var nameValues = {};\n\n  // Initialize the information about nodes\n  nodes_.reduce(function (a, b) {\n    return a.concat(b);\n  }).forEach(function (name) {\n    nameValues[name] = {\n      value: 0,\n      currentlyUsedIn: 0,\n      currentlyUsedOut: 0\n    };\n  });\n\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    var _loop = function () {\n      var _step$value = _slicedToArray(_step.value, 2);\n\n      var name = _step$value[0];\n      var val = _step$value[1];\n\n      var valsIn = (0, _ops.sumBy)(links_.filter(function (x) {\n        return x.end === name;\n      }), function (x) {\n        return x.weight;\n      });\n      var valsOut = (0, _ops.sumBy)(links_.filter(function (x) {\n        return x.start === name;\n      }), function (x) {\n        return x.weight;\n      });\n      val.value = Math.max(valsIn, valsOut);\n    };\n\n    for (var _iterator = (0, _ops.pairs)(nameValues)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      _loop();\n    }\n\n    // Find a suitable scale: it should take care of the maximum height\n    // of stacked rectangles and gutters between them.\n    // I did as follows: take the initial height and, for each group of\n    // rectangles, compute how much space you have available, that is,\n    // height - gutters; there are lengthOfGroup - 1 gutters.\n    // Consider the ratios spaceForEachGroup / heightOfStackedRectangles\n    // and take the minimum. Use this as scale factor.\n\n    // Compute height of staked rectangles in a group\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator['return']) {\n        _iterator['return']();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  var heightOfGroups = nodes_.map(function (group) {\n    return (0, _ops.sumBy)(group, function (name) {\n      return nameValues[name].value;\n    });\n  });\n\n  // Compute the available height for each group (height - gutters)\n  var spaceForEachGroup = nodes_.map(function (group) {\n    return height - (group.length - 1) * gutter;\n  });\n\n  // Compute minimum ratio\n  var scale = (0, _ops.min)(heightOfGroups.map(function (heightOfGroup, idx) {\n    return spaceForEachGroup[idx] / heightOfGroup;\n  }));\n\n  var _iteratorNormalCompletion2 = true;\n  var _didIteratorError2 = false;\n  var _iteratorError2 = undefined;\n\n  try {\n    for (var _iterator2 = (0, _ops.pairs)(nameValues)[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n      var _step2$value = _slicedToArray(_step2.value, 2);\n\n      var _name = _step2$value[0];\n      var val = _step2$value[1];\n\n      val.scaledValue = scale * val.value;\n    }\n\n    // Fill rectangles information: each rectangle\n    // is stack on the previous one, with a gutter\n    // The group of rectangles is centered in their own column\n  } catch (err) {\n    _didIteratorError2 = true;\n    _iteratorError2 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion2 && _iterator2['return']) {\n        _iterator2['return']();\n      }\n    } finally {\n      if (_didIteratorError2) {\n        throw _iteratorError2;\n      }\n    }\n  }\n\n  var rectangles = [];\n  var nodeIdx = -1;\n\n  nodes_.forEach(function (group, idg) {\n    var hGroup = (0, _ops.sumBy)(group, function (y) {\n      return nameValues[y].scaledValue;\n    }) + (group.length - 1) * gutter;\n    var firstTop = (height - hGroup) / 2;\n    // Fake previous bottom\n    var previousBottom = firstTop - gutter;\n    group.forEach(function (name, idn) {\n      var top = previousBottom + gutter;\n      var bottom = top + nameValues[name].scaledValue;\n      previousBottom = bottom;\n      var att = {\n        top: top,\n        bottom: bottom,\n        left: rectWidth / 2 + idg * spacingGroups - rectWidth / 2,\n        right: rectWidth / 2 + idg * spacingGroups + rectWidth / 2\n      };\n      nameValues[name].rectangleCoords = att;\n      nodeIdx += 1;\n      rectangles.push((0, _ops.enhance)(compute, {\n        curve: (0, _rectangle2['default'])(att),\n        item: data.nodes[idg][idn],\n        index: nodeIdx,\n        group: idg\n      }));\n    });\n  });\n\n  var curvedRectangles = links_.map(function (link, i) {\n    var s = nameValues[link.start];\n    var t = nameValues[link.end];\n    var rectSource = s.rectangleCoords;\n    var rectTarget = t.rectangleCoords;\n    var scaledWeight = link.weight * scale;\n    var a = rectSource.top + s.currentlyUsedOut;\n    var b = rectTarget.top + t.currentlyUsedIn;\n    var curvedRect = {\n      topleft: [rectSource.right, a],\n      topright: [rectTarget.left, b],\n      bottomleft: [rectSource.right, a + scaledWeight],\n      bottomright: [rectTarget.left, b + scaledWeight]\n    };\n    s.currentlyUsedOut += scaledWeight;\n    t.currentlyUsedIn += scaledWeight;\n\n    return (0, _ops.enhance)(compute, {\n      curve: (0, _curvedRectangle2['default'])(curvedRect),\n      item: data.links[i],\n      index: i\n    });\n  });\n\n  return {\n    curvedRectangles: curvedRectangles,\n    rectangles: rectangles\n  };\n};\n\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i]; return arr2; } else { return Array.from(arr); } }\n\nvar _path = require('./path');\n\nvar _path2 = _interopRequireDefault(_path);\n\nvar _ops = require('./ops');\n\nexports['default'] = function (_ref) {\n  var _Path$moveto$arc$lineto, _Path$moveto$arc, _Path$moveto, _Path;\n\n  var center = _ref.center;\n  var r = _ref.r;\n  var R = _ref.R;\n  var start = _ref.start;\n  var end = _ref.end;\n\n  var epsilon = 10e-5;\n  if (Math.abs(end - 2 * Math.PI) < epsilon) {\n    end = 2 * Math.PI - epsilon;\n  }\n\n  var a = (0, _ops.plus)(center, (0, _ops.onCircle)(R, start));\n  var b = (0, _ops.plus)(center, (0, _ops.onCircle)(R, end));\n  var c = (0, _ops.plus)(center, (0, _ops.onCircle)(r, end));\n  var d = (0, _ops.plus)(center, (0, _ops.onCircle)(r, start));\n\n  var large = end - start > Math.PI ? 1 : 0;\n\n  var path = (_Path$moveto$arc$lineto = (_Path$moveto$arc = (_Path$moveto = (_Path = (0, _path2['default'])()).moveto.apply(_Path, _toConsumableArray(a))).arc.apply(_Path$moveto, [R, R, 0, large, 1].concat(_toConsumableArray(b)))).lineto.apply(_Path$moveto$arc, _toConsumableArray(c))).arc.apply(_Path$moveto$arc$lineto, [r, r, 0, large, 0].concat(_toConsumableArray(d))).closepath();\n\n  var midAngle = (start + end) / 2;\n  var midRadius = (r + R) / 2;\n  var centroid = (0, _ops.plus)(center, (0, _ops.onCircle)(midRadius, midAngle));\n\n  return {\n    path: path,\n    centroid: centroid\n  };\n};\n\nmodule.exports = exports['default'];","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nfunction Segment(pl, pr, ps, pe) {\n  this.pl = pl; //left symmetry point\n  this.pr = pr; //right symmetry point\n  this.ps = ps; //start point\n  this.pe = pe; //end point\n  this.m = this.pl[1] === this.pr[1] ? Infinity : -(this.pl[0] - this.pr[0]) / (this.pl[1] - this.pr[1]); //m\n  this.hp = this.pl[0] < this.pr[0] || this.pl[0] === this.pr[0] && this.pl[1] > this.pr[1] ? 1 : -1; //halfplane\n  this.vec = this.hp * this.m > 0 || this.m === 0 && this.hp > 0 ? [1, this.m] : [-1, -this.m]; //direction\n}\n\nexports[\"default\"] = Segment;\nmodule.exports = exports[\"default\"];","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _polygon = require('./polygon');\n\nvar _polygon2 = _interopRequireDefault(_polygon);\n\nvar _ops = require('./ops');\n\nexports['default'] = function (_ref) {\n  var center = _ref.center;\n  var radii = _ref.radii;\n\n  var angle = 2 * Math.PI / radii.length;\n  var points = radii.map(function (r, i) {\n    return (0, _ops.plus)(center, (0, _ops.onCircle)(r, i * angle));\n  });\n\n  return (0, _polygon2['default'])({\n    points: points,\n    closed: true\n  });\n};\n\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i]; return arr2; } else { return Array.from(arr); } }\n\nvar _bezier = require('./bezier');\n\nvar _bezier2 = _interopRequireDefault(_bezier);\n\nvar _lineChartComp = require('./line-chart-comp');\n\nvar _lineChartComp2 = _interopRequireDefault(_lineChartComp);\n\nvar _ops = require('./ops');\n\nexports['default'] = function (options) {\n  var _comp = (0, _lineChartComp2['default'])(options);\n\n  var arranged = _comp.arranged;\n  var scale = _comp.scale;\n  var xscale = _comp.xscale;\n  var yscale = _comp.yscale;\n  var base = _comp.base;\n\n  var i = -1;\n\n  var lines = arranged.map(function (_ref) {\n    var _line$path$lineto, _line$path;\n\n    var points = _ref.points;\n    var xmin = _ref.xmin;\n    var xmax = _ref.xmax;\n\n    var scaledPoints = points.map(scale);\n    i += 1;\n    var line = (0, _bezier2['default'])({ points: scaledPoints });\n    var area = {\n      path: (_line$path$lineto = (_line$path = line.path).lineto.apply(_line$path, _toConsumableArray(scale([xmax, base])))).lineto.apply(_line$path$lineto, _toConsumableArray(scale([xmin, base]))).closepath(),\n      centroid: (0, _ops.average)([line.centroid, scale([xmin, base]), scale([xmax, base])])\n    };\n\n    return (0, _ops.enhance)(options.compute, {\n      item: options.data[i],\n      line: line,\n      area: area,\n      index: i\n    });\n  });\n\n  return {\n    curves: lines,\n    xscale: xscale,\n    yscale: yscale\n  };\n};\n\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _linear = require('./linear');\n\nvar _linear2 = _interopRequireDefault(_linear);\n\nvar _rectangle = require('./rectangle');\n\nvar _rectangle2 = _interopRequireDefault(_rectangle);\n\nvar _ops = require('./ops');\n\nexports['default'] = function (_ref) {\n  var data = _ref.data;\n  var _ref$accessor = _ref.accessor;\n  var accessor = _ref$accessor === undefined ? _ops.id : _ref$accessor;\n  var width = _ref.width;\n  var height = _ref.height;\n  var min = _ref.min;\n  var max = _ref.max;\n  var _ref$gutter = _ref.gutter;\n  var gutter = _ref$gutter === undefined ? 10 : _ref$gutter;\n  var compute = _ref.compute;\n\n  var groups = [];\n  var minUnset = false;\n  var maxUnset = false;\n  if (min == null) {\n    min = 0;minUnset = true;\n  }\n  if (max == null) {\n    max = 0;maxUnset = true;\n  }\n\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = data.entries()[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var _step$value = _slicedToArray(_step.value, 2);\n\n      var i = _step$value[0];\n      var d = _step$value[1];\n      var _iteratorNormalCompletion3 = true;\n      var _didIteratorError3 = false;\n      var _iteratorError3 = undefined;\n\n      try {\n        for (var _iterator3 = d.entries()[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n          var _step3$value = _slicedToArray(_step3.value, 2);\n\n          var j = _step3$value[0];\n          var el = _step3$value[1];\n\n          if (groups[j] == null) {\n            groups[j] = [];\n          }\n          var last = i === 0 ? 0 : groups[j][i - 1];\n          var val = accessor(el) + last;\n          if (minUnset && val < min) {\n            min = val;\n          }\n          if (maxUnset && val > max) {\n            max = val;\n          }\n          groups[j][i] = val;\n        }\n      } catch (err) {\n        _didIteratorError3 = true;\n        _iteratorError3 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion3 && _iterator3['return']) {\n            _iterator3['return']();\n          }\n        } finally {\n          if (_didIteratorError3) {\n            throw _iteratorError3;\n          }\n        }\n      }\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator['return']) {\n        _iterator['return']();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  var n = data[0].length;\n  var scale = (0, _linear2['default'])([min, max], [height, 0]);\n  var barWidth = (width - (n - 1) * gutter) / n;\n  var curves = [];\n\n  var _iteratorNormalCompletion2 = true;\n  var _didIteratorError2 = false;\n  var _iteratorError2 = undefined;\n\n  try {\n    for (var _iterator2 = data.entries()[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n      var _step2$value = _slicedToArray(_step2.value, 2);\n\n      var i = _step2$value[0];\n      var d = _step2$value[1];\n      var _iteratorNormalCompletion4 = true;\n      var _didIteratorError4 = false;\n      var _iteratorError4 = undefined;\n\n      try {\n        for (var _iterator4 = d.entries()[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n          var _step4$value = _slicedToArray(_step4.value, 2);\n\n          var j = _step4$value[0];\n          var el = _step4$value[1];\n\n          var curve = {\n            line: (0, _rectangle2['default'])({\n              top: scale(groups[j][i]),\n              bottom: i === 0 ? scale(0) : scale(groups[j][i - 1]),\n              left: j * (barWidth + gutter),\n              right: j * (barWidth + gutter) + barWidth\n            }),\n            index: j,\n            group: i,\n            item: el\n          };\n          curves.push((0, _ops.enhance)(compute, curve));\n        }\n      } catch (err) {\n        _didIteratorError4 = true;\n        _iteratorError4 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion4 && _iterator4['return']) {\n            _iterator4['return']();\n          }\n        } finally {\n          if (_didIteratorError4) {\n            throw _iteratorError4;\n          }\n        }\n      }\n    }\n  } catch (err) {\n    _didIteratorError2 = true;\n    _iteratorError2 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion2 && _iterator2['return']) {\n        _iterator2['return']();\n      }\n    } finally {\n      if (_didIteratorError2) {\n        throw _iteratorError2;\n      }\n    }\n  }\n\n  return { curves: curves, scale: scale };\n};\n\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _polygon = require('./polygon');\n\nvar _polygon2 = _interopRequireDefault(_polygon);\n\nvar _lineChartComp = require('./line-chart-comp');\n\nvar _lineChartComp2 = _interopRequireDefault(_lineChartComp);\n\nvar _ops = require('./ops');\n\nexports['default'] = function (options) {\n  var _comp = (0, _lineChartComp2['default'])(options);\n\n  var arranged = _comp.arranged;\n  var scale = _comp.scale;\n  var xscale = _comp.xscale;\n  var yscale = _comp.yscale;\n  var base = _comp.base;\n\n  var i = -1;\n\n  var polygons = arranged.map(function (_ref) {\n    var points = _ref.points;\n    var xmin = _ref.xmin;\n    var xmax = _ref.xmax;\n\n    var scaledPoints = points.map(scale);\n    points.push([xmax, base]);\n    points.push([xmin, base]);\n    var scaledPointsClosed = points.map(scale);\n    i += 1;\n\n    return (0, _ops.enhance)(options.compute, {\n      item: options.data[i],\n      line: (0, _polygon2['default'])({\n        points: scaledPoints,\n        closed: false\n      }),\n      area: (0, _polygon2['default'])({\n        points: scaledPointsClosed,\n        closed: true\n      }),\n      index: i\n    });\n  });\n\n  return {\n    curves: polygons,\n    xscale: xscale,\n    yscale: yscale\n  };\n};\n\nmodule.exports = exports['default'];","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar maxBy = function maxBy(items, f) {\n  if (items === undefined) items = [];\n\n  return items.reduce(function (m, i) {\n    return Math.max(m, f(i));\n  }, 0);\n};\n\nvar treeHeight = function treeHeight(root) {\n  return 1 + maxBy(root.children, treeHeight);\n};\n\nvar buildTree = function buildTree(data, children) {\n  var level = arguments.length <= 2 || arguments[2] === undefined ? 0 : arguments[2];\n\n  var result = {\n    item: data,\n    level: level\n  };\n  var cs = children(data);\n  if (cs && cs.length) {\n    result.children = cs.map(function (c) {\n      return buildTree(c, children, level + 1);\n    });\n  }\n  return result;\n};\n\nvar setHeight = function setHeight(root) {\n  var level = arguments.length <= 1 || arguments[1] === undefined ? 0 : arguments[1];\n  var maxHeights = arguments.length <= 2 || arguments[2] === undefined ? [] : arguments[2];\n\n  if (maxHeights[level] != null) {\n    root.height = maxHeights[level] + 1;\n    maxHeights[level] += 1;\n  } else {\n    maxHeights[level] = 0;\n    root.height = 0;\n  }\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = (root.children || [])[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var child = _step.value;\n\n      setHeight(child, level + 1, maxHeights);\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator[\"return\"]) {\n        _iterator[\"return\"]();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  return maxHeights;\n};\n\n// f is a function of (parent, child)\nvar collect = function collect(root, f) {\n  var result = [];\n  var _iteratorNormalCompletion2 = true;\n  var _didIteratorError2 = false;\n  var _iteratorError2 = undefined;\n\n  try {\n    for (var _iterator2 = (root.children || [])[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n      var child = _step2.value;\n\n      result.push(f(root, child));\n      result = result.concat(collect(child, f));\n    }\n  } catch (err) {\n    _didIteratorError2 = true;\n    _iteratorError2 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion2 && _iterator2[\"return\"]) {\n        _iterator2[\"return\"]();\n      }\n    } finally {\n      if (_didIteratorError2) {\n        throw _iteratorError2;\n      }\n    }\n  }\n\n  return result;\n};\n\nexports.treeHeight = treeHeight;\nexports.buildTree = buildTree;\nexports.setHeight = setHeight;\nexports.collect = collect;","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _connector = require('./connector');\n\nvar _connector2 = _interopRequireDefault(_connector);\n\nvar _linear = require('./linear');\n\nvar _linear2 = _interopRequireDefault(_linear);\n\nvar _ops = require('./ops');\n\nvar _treeUtils = require('./tree-utils');\n\nexports['default'] = function (_ref) {\n  var data = _ref.data;\n  var width = _ref.width;\n  var height = _ref.height;\n  var children = _ref.children;\n  var tension = _ref.tension;\n\n  if (!children) {\n    children = function (x) {\n      return x.children;\n    };\n  }\n  var tree = (0, _treeUtils.buildTree)(data, children);\n  var levels = (0, _treeUtils.treeHeight)(tree);\n  var maxHeights = (0, _treeUtils.setHeight)(tree);\n  var hspace = width / (levels - 1);\n  var hscale = (0, _linear2['default'])([0, levels - 1], [0, width]);\n  var vscales = (0, _ops.range)(0, levels).map(function (level) {\n    var availableHeight = Math.sqrt(level / (levels - 1)) * height;\n    var top = (height - availableHeight) / 2;\n    var bottom = top + availableHeight;\n    var maxHeight = level > 0 ? maxHeights[level] + maxHeights[level - 1] : maxHeights[level];\n    if (maxHeight === 0) {\n      return function (x) {\n        return height / 2;\n      };\n    } else {\n      return (0, _linear2['default'])([0, maxHeight], [top, bottom]);\n    }\n  });\n\n  var position = function position(node) {\n    var level = node.level;\n    var vscale = vscales[level];\n    return [hscale(level), vscale(node.height_)];\n  };\n\n  var i = -1;\n  var connectors = (0, _treeUtils.collect)(tree, function (parent, child) {\n    i += 1;\n    child.height_ = child.height + parent.height;\n    return {\n      connector: (0, _connector2['default'])({\n        start: position(parent),\n        end: position(child),\n        tension: tension\n      }),\n      index: i,\n      item: {\n        start: parent.item,\n        end: child.item\n      }\n    };\n  });\n  var childNodes = (0, _treeUtils.collect)(tree, function (parent, child) {\n    return {\n      point: position(child),\n      item: child.item\n    };\n  });\n  var rootNode = {\n    point: position(tree),\n    item: tree.item\n  };\n\n  return {\n    curves: connectors,\n    nodes: [rootNode].concat(childNodes)\n  };\n};\n\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\n\nexports['default'] = Voronoi;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _polygon = require('./polygon');\n\nvar _polygon2 = _interopRequireDefault(_polygon);\n\nvar _fortune = require('./fortune');\n\nvar _fortune2 = _interopRequireDefault(_fortune);\n\nvar _linear = require('./linear');\n\nvar _linear2 = _interopRequireDefault(_linear);\n\nvar _ops = require('./ops');\n\nfunction Voronoi(_ref) {\n  var data = _ref.data;\n  var accessor = _ref.accessor;\n  var width = _ref.width;\n  var height = _ref.height;\n  var xrange = _ref.xrange;\n  var yrange = _ref.yrange;\n  var compute = _ref.compute;\n  //data, accessor, width, height, xrange, yrange, compute\n  if (typeof accessor !== 'function') {\n    accessor = function (x) {\n      return x;\n    };\n  }\n  xrange = xrange || [-1, 1];\n  yrange = yrange || [-1, 1];\n  var sites = data.map(accessor);\n  var sq = function sq(x) {\n    return x * x;\n  };\n  var xm = (xrange[0] + xrange[1]) / 2;\n  var ym = (yrange[0] + yrange[1]) / 2;\n  var diag = Math.sqrt(sq(xrange[0] - xrange[1]) + sq(yrange[0] - yrange[1]));\n  var xscale = (0, _linear2['default'])(xrange, [0, width]);\n  var yscale = (0, _linear2['default'])(yrange, [height, 0]);\n  var k = 10;\n  var closingPoints = [[k * (xrange[0] - diag), k * ym], [k * (xrange[1] + diag), k * ym], [k * xm, k * (yrange[0] - diag)], [k * xm, k * (yrange[1] + diag)]];\n  var points = closingPoints.concat(sites);\n  var fortune = new _fortune2['default'](points);\n  var patches = fortune.getPatches();\n  var nodes = [];\n  var curves = [];\n\n  sites.forEach(function (site, i) {\n    var scaledPatch = patches[site].map(function (_ref2) {\n      var _ref22 = _slicedToArray(_ref2, 2);\n\n      var x = _ref22[0];\n      var y = _ref22[1];\n      return [xscale(x), yscale(y)];\n    });\n\n    nodes.push({\n      point: [xscale(site[0]), yscale(site[1])],\n      item: data[i]\n    });\n    curves.push((0, _ops.enhance)(compute, {\n      line: (0, _polygon2['default'])({\n        points: scaledPatch,\n        closed: true\n      }),\n      index: i,\n      item: data[i]\n    }));\n  });\n\n  return { curves: curves, nodes: nodes, xscale: xscale, yscale: yscale };\n}\n\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _linear = require('./linear');\n\nvar _linear2 = _interopRequireDefault(_linear);\n\nvar _rectangle = require('./rectangle');\n\nvar _rectangle2 = _interopRequireDefault(_rectangle);\n\nvar _ops = require('./ops');\n\nexports['default'] = function (_ref) {\n  var data = _ref.data;\n  var accessor = _ref.accessor;\n  var width = _ref.width;\n  var height = _ref.height;\n  var _ref$gutter = _ref.gutter;\n  var gutter = _ref$gutter === undefined ? 10 : _ref$gutter;\n  var compute = _ref.compute;\n  var _ref$min = _ref.min;\n  var min = _ref$min === undefined ? 0 : _ref$min;\n  var _ref$max = _ref.max;\n  var max = _ref$max === undefined ? 0 : _ref$max;\n\n  if (!accessor) {\n    accessor = function (x) {\n      return x;\n    };\n  }\n  var last = 0;\n  var data_ = [];\n\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = data[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var d = _step.value;\n\n      var _accessor = accessor(d);\n\n      var value = _accessor.value;\n      var absolute = _accessor.absolute;\n\n      var _ref2 = absolute ? [0, value || last] : [last, last + value];\n\n      var _ref22 = _slicedToArray(_ref2, 2);\n\n      var low = _ref22[0];\n      var high = _ref22[1];\n\n      var m = Math.min(low, high);\n      var M = Math.max(low, high);\n      min = Math.min(min, m);\n      max = Math.max(max, M);\n      last = high;\n\n      data_.push({\n        item: d,\n        low: low,\n        high: high,\n        value: value != null ? value : high\n      });\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator['return']) {\n        _iterator['return']();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  var n = data_.length;\n  var barWidth = (width - gutter * (n - 1)) / n;\n  var curves = [];\n  var scale = (0, _linear2['default'])([min, max], [height, 0]);\n\n  var _iteratorNormalCompletion2 = true;\n  var _didIteratorError2 = false;\n  var _iteratorError2 = undefined;\n\n  try {\n    for (var _iterator2 = data_.entries()[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n      var _step2$value = _slicedToArray(_step2.value, 2);\n\n      var i = _step2$value[0];\n      var d = _step2$value[1];\n\n      var left = i * (barWidth + gutter);\n      var right = left + barWidth;\n      var bottom = scale(d.low);\n      var _top = scale(d.high);\n      var line = (0, _rectangle2['default'])({ left: left, right: right, bottom: bottom, top: _top });\n      curves.push((0, _ops.enhance)(compute, {\n        item: d.item,\n        line: line,\n        value: d.value,\n        index: i\n      }));\n    }\n  } catch (err) {\n    _didIteratorError2 = true;\n    _iteratorError2 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion2 && _iterator2['return']) {\n        _iterator2['return']();\n      }\n    } finally {\n      if (_didIteratorError2) {\n        throw _iteratorError2;\n      }\n    }\n  }\n\n  return {\n    curves: curves,\n    scale: scale\n  };\n};\n\nmodule.exports = exports['default'];"]}